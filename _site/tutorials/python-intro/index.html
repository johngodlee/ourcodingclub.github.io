<!DOCTYPE html>
<html lang="en-GB">
	<head>
    	<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Intro to Python</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- CSS -->
<link rel="stylesheet" href="/css/main.css"/>
<link rel="stylesheet" href="/css/owlcarousel/owl.carousel.css">
<link rel="stylesheet" href="/css/owlcarousel/owl.theme.default.css">

<!-- JS -->
<script src="https://use.fontawesome.com/4dd22df1f8.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="/scripts/accordion.js"></script>
<script src="/scripts/jquery.counterup.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.5/waypoints.min.js"></script>
<script src="/scripts/ticker.js"></script>

	</head>
	<body>
    	<header class="header">
	<div class="navigation-bar">
		<div id="navigation-container">
			
				<a class="logo" href="/">
  <img src="/assets/img/logos/logo_stack.svg" alt="Coding Club logo">
</a>

			
			<nav>
				<label for="hamburger">☰</label>
				<input type="checkbox" id="hamburger">
				<ul>
					
						
					<li class="item item-nav">
						<a href="/">Home</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/tutorials.html">Tutorials</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/course.html">Course</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/team.html">Team</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/involve.html">Get involved</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/links.html">Links</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/contact.html">Contact</a>
					</li>
					
				</ul>
			</nav>
		</div>
	</div>
</header>

			<div class="block">
  <center><img src="/img/tutheader_python.png" alt="Img"></center>
</div>

<h3 id="tutorial-aims">Tutorial aims:</h3>

<h4 id="-understand-why-python-is-so-useful-for-scientific-programming"><a href="#understanding"> Understand why Python is so useful for scientific programming</a></h4>

<h4 id="-1-installing-python-and-running-a-simple-python-program"><a href="#installing"> 1. Installing Python and running a simple Python program</a></h4>

<h4 id="-2-reading-data-from-a-file"><a href="#reading"> 2. Reading data from a file</a></h4>

<h4 id="-3-get-a-feel-for-how-python-looks-and-feels"><a href="#feeling"> 3. Get a feel for how Python looks and feels</a></h4>

<h4 id="-4-load-data-from-a-text-file-into-memory"><a href="#loading"> 4. Load data from a text file into memory</a></h4>

<h4 id="-5-learn-about-some-basic-python-data-types-and-structures"><a href="#basics"> 5. Learn about some basic Python data types and structures</a></h4>

<h4 id="-6-moving-beyond-the-core-python-language-with-modules"><a href="#modules"> 6. Moving beyond the core Python language with modules</a></h4>

<h4 id="-7-a-brief-introduction-to-data-analysis-with-the-pandas-package"><a href="#pandas"> 7. A brief introduction to data analysis with the pandas package</a></h4>

<h4 id="-8-plotting-data-with-matplotlib"><a href="#matplotlib"> 8. Plotting data with Matplotlib</a></h4>

<p><a name="understanding"></a></p>

<h2 id="understanding-why-python-is-so-useful-for-scientific-programming">Understanding why Python is so useful for scientific programming</h2>

<p>You may have heard about the Python programming language before. It is often talked about as the next “up and coming” programming language, or described as being a new, “trendy” programming language that everyone should be learning, particularly scientists. I would argue that Python is no longer merely “up and coming”, or even particularly new, but one of the most popular and useful programming languages you could invest time in learning. In fact, as of 2018, Python is (by certain measures) <strong>the most widely used programming language in the world</strong>. So if you are a scientist, researcher, or student doing any kind of data analysis, or numeric programming, then I think Python is worth investing some time in learning, even just the basics.</p>

<p>Python is a programming language, a tool used to make computers do useful things for scientific coders much faster than they could do using conventional tools like spreadsheets or plotting software (and certainly much faster than manual calculations!). But programming languages are not really designed for computers at all. In fact, your computer has no idea what all the words and symbols in a piece of code written in Python actually <em>mean</em>. It only understands ones and zeros and electrical currents. Programming languages are actually designed for <em>humans</em> to have a convenient way of programming a computer without getting involved in things like binary and hexadecimal codes, and worrying about electronic circuitry inside the computer.</p>

<p>Python has grown hugely in popularity in recent years, by some measures it is <em>the</em> most popular programming language as of 2018. Consider the chart below, which is based on number of question views on StackOverflow:</p>

<center><img src="/img/python_growth_major_languages.png" alt="Img" style="width: 1000px"></center>

<p>You may also wish to have a look at this chart showing the growth of Python and other smaller, growing technologies (including R):</p>

<center><img src="/img/python_growth_smaller_languages.png" alt="Img" style="width: 1000px"></center>

<p>If you are interested in reading more about the growth of Python (and the background to the above charts), I highly recommend reading <a href="https://stackoverflow.blog/2017/09/06/incredible-growth-python/" target="_blank" rel="noopener noreferrer">this blog post from StackOverflow</a>.</p>

<h2 id="pythons-strengths-as-a-language">Python’s strengths as a language</h2>

<h3 id="1-readability">1. Readability</h3>

<p>Python shines because it is designed to be <em>readable</em> by us humans. Python is often described as a language that is intuitive and relatively easy to learn. The <strong>syntax</strong> (how you arrange the set of words and symbols to make a Python program) is meant to be intuitve to humans by being similar to natural human languages in many ways. For example, look at these little snippets of Python and see if you can guess what they mean and what might happen if we told the computer to run the code:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"Python"</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">"P"</span><span class="p">)</span>
</code></pre></div></div>
<p>This bit of python code reads like: <em>Python starts with a “P”</em>, and that is exactly what it means  in Python!. If we ran this bit of code, the computer would print out <code class="language-plaintext highlighter-rouge">True</code> on the screen.</p>

<p>In more technical terms, Python reads the <em>expression</em> (the line of code here) and then <em>evaluates</em> it. It takes the <em>string</em> and checks whether it starts with the letter “P”, by using the <em>function</em> call (or <em>method</em> call) <code class="language-plaintext highlighter-rouge">startswith</code>. The expression will either be <code class="language-plaintext highlighter-rouge">True</code> or <code class="language-plaintext highlighter-rouge">False</code>. This is known as a <strong>boolean</strong> expression (a true/false expression). The following examples are all examples of boolean expressions.</p>

<p>What about this one?</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"thon"</span> <span class="ow">in</span> <span class="s">"Python"</span>
</code></pre></div></div>
<p>If you imagine reading it like a question, if we ask: <em>“thon” in “Python”?</em>, the answer is yes (or <code class="language-plaintext highlighter-rouge">True</code>), because the letters “thon” appear in the word “Python”. If we wrote:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"xyz"</span> <span class="ow">in</span> <span class="s">"Python"</span>
</code></pre></div></div>
<p>we would get <code class="language-plaintext highlighter-rouge">False</code>, because those letters are not in the word “Python” in that order.</p>

<p>Python syntax has many more similarities with natural languages, and we will discover more throughout this tutorial. Hopefully this will make learning the Python language more intuitive (and fun, as we can compare it to human languages (well, English…)).</p>

<p>Here is one more bonus round. Can you guess what might happen if we ran this Python code? (This will be a bit trickier if you are new to programming, but have a go.)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tastyword</span> <span class="o">=</span> <span class="s">"chocolate"</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">if</span> <span class="n">tastyword</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">"o"</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">tastyword</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">"e"</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"You have won some tasty chocolate!"</span><span class="p">)</span>
</code></pre></div></div>
<p>First we assign the variable <code class="language-plaintext highlighter-rouge">tastyword</code> so it refers to the string “chocolate”.
Then we assign the number 3 to the variable <code class="language-plaintext highlighter-rouge">x</code>.</p>

<p>Next follows a boolean expression (a true/false question). Actually there are a few boolean expressions here. The first is <code class="language-plaintext highlighter-rouge">tastyword.count("o") &lt; x</code>, the second one is <code class="language-plaintext highlighter-rouge">tastyword.endswith("e")</code>. This translates to: <em>Count the number of letter o’s in the <code class="language-plaintext highlighter-rouge">tastyword</code> variable, and see if it is less than <code class="language-plaintext highlighter-rouge">x</code></em>, and <em>Does the <code class="language-plaintext highlighter-rouge">tastyword</code> end with “e”?</em></p>

<p>Finally there is a <em>logical operator</em>: <code class="language-plaintext highlighter-rouge">and</code>. <em>Both</em> boolean expressions in the <code class="language-plaintext highlighter-rouge">if</code> statement must be <code class="language-plaintext highlighter-rouge">True</code> to allow us to reach the <code class="language-plaintext highlighter-rouge">print</code> function. Otherwise nothing will be printed out.</p>

<p>Did you win some chocolate? (I hope so!)</p>

<h3 id="2-general-purpose">2. General Purpose</h3>

<p>Python has a major advantage when compared to some other commonly used programming languages in the scientific community; it is a <em>general purpose</em> programming language. Compared to other languages such as Matlab, IDL, ncl, and R, which were designed with specific applications in mind, Python was built as a general purpose programming language (like Java, C, Ruby etc.). This means you can use Python to write your data analysis code, plot the results of the analysis, write a numerical model, run a website, do your tax return…the list goes on.</p>

<p>Because of its general-purpose design, Python is used in the real world in a range of industries. Python is used by scientists at universities across the world, developers at big tech companies like Amazon, Facebook, and Google, by financial services companies, and social media apps like Facebook and Instagram, for example. In short, while this tutorial focuses on scientific applications of Python, you are learning a programming language that has a huge variety both within and outwith the scientific community.</p>

<h3 id="3-scientific-python-community">3. Scientific Python Community</h3>

<p>The third reason Python is so great is the community behind it. As mentioned before, writing code is as much a way of communicating between humans trying to solve the same scientific problems as it is telling the computer what to do. Python has a very friendly and active community supporting it, many of whom are found on internet resources such as forums and the popular <a href="https://stackoverflow.com" target="_blank" rel="noopener noreferrer">StackOverflow Q&amp;A site</a>.</p>

<p>If you are stuck with a problem in Python, online resources are so plentiful that is often enough to just type “How do I do <em>X</em> in Python”, into a search engine - the first few results often will contain your answer, and often the top link is a StackOverflow question asked by someone with the same or very similar problem to you.</p>

<p>In the domain of science, the Scientific Python community is just as well established. You may have already heard of Python packages like <code class="language-plaintext highlighter-rouge">numpy</code> (Numerical Python), <code class="language-plaintext highlighter-rouge">scipy</code> (Scientific Python), as well as other tools like <code class="language-plaintext highlighter-rouge">pandas</code>, <code class="language-plaintext highlighter-rouge">matplotlib</code>, and many more. Many of these tools were developed by scientists to share something back to the Python community, and they have now grown and become almost <em>de facto</em> standard tools within the scientific programming community.</p>

<p><a name="installing"></a></p>

<h2 id="installing-python-and-running-a-simple-python-program">Installing Python and running a simple Python program</h2>

<h3 id="installation">Installation</h3>

<p>The method for installing Python depends on your operating system (Linux/Mac/Windows), but the easiest way I have found, which works across multiple operating systems is to install a distribution of Python called ‘Anaconda’. Anaconda includes a range of useful packages for scientific coding, such as <code class="language-plaintext highlighter-rouge">matplotlib</code>, <code class="language-plaintext highlighter-rouge">numpy</code> and  <code class="language-plaintext highlighter-rouge">pandas</code> (We will cover these later on in the tutorial). It all comes with the conda package manager - a tool for easily installing other Python add-on packages that you may want to use. It also comes with a few useful programmes which can be used to write Python code. The download link is here: <a href="https://www.anaconda.com/download/" target="_blank" rel="noopener noreferrer">Downloading Anaconda</a>.</p>

<p><em>Make sure to install a <strong>Python 3</strong> version specific to your operating system</em></p>

<p><strong>If you are in the ‘live’ workshop, now would be a good point to raise any issues or questions you have about installing Python.</strong></p>

<p>On Windows, you may run into some problems, depending on you version, but help can be found in the official Python documentation pages for <a href="https://docs.python.org/3.3/using/windows.html" target="_blank" rel="noopener noreferrer">using Python on Windows</a>.</p>

<h3 id="the-python-workflow">The Python workflow</h3>

<p>From here you have two main options for how to write your Python code during this workshop:</p>

<h4 id="following-the-tutorial-with-the-command-line-and-any-text-editor">Following the tutorial with the command line and any text editor</h4>

<p>This method of writing Python code is most applicable to Mac and Linux users, as it requires access to a terminal program like Terminal.app, or the Gnome Terminal.</p>

<p>The way Python programming normally works is that you write a script, save the script, then run the script. Python scripts can be written using any plain text editor, e.g. <a href="https://atom.io" target="_blank" rel="noopener noreferrer">Atom</a>, <a href="http://www.pspad.com" target="_blank" rel="noopener noreferrer">PSPad</a>, <a href="https://www.vim.org" target="_blank" rel="noopener noreferrer">Vim</a>, or even simple programs like <a href="https://support.apple.com/en-gb/guide/textedit/welcome/mac" target="_blank" rel="noopener noreferrer">TextEdit.app</a>!</p>

<p>To run the Python script, you then need to navigate to the folder where the Python script is saved, using the command line, and run it by typing this, assuming your Python script is called <code class="language-plaintext highlighter-rouge">myscript.py</code>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python myscript.py
</code></pre></div></div>

<p>Any output will be printed to the screen in the terminal or console you are running from.</p>

<p>This workshop doesn’t cover the command line/terminal in depth, but handy ‘cheat sheets’ are available here for <a href="https://learntocodewith.me/command-line/unix-command-cheat-sheet/" target="_blank" rel="noopener noreferrer">Linux/Mac terminal users</a> and <a href="http://simplyadvanced.net/blog/cheat-sheet-for-windows-command-prompt/" target="_blank" rel="noopener noreferrer">Windows command line users</a>.</p>

<h4 id="following-the-tutorial-with-spyder-or-another-ide">Following the tutorial with Spyder or another IDE</h4>

<p>If you are not comfortable using the command line or terminal, or are on a Windows machine, we recommend using this method.</p>

<p>Instead of using a text editor and the command line, you can write and run your Python scripts using an IDE (Integrated Development Environment) such as <a href="https://spyder-ide.github.io/" target="_blank" rel="noopener noreferrer">Spyder</a> (similar to RStudio). Spyder is bundled with the Anaconda installation, so it should be easily accessible. Ask the workshop helpers for guidance, or consult the <a href="https://pythonhosted.org/spyder/" target="_blank" rel="noopener noreferrer">Spyder documentation</a> for more info on how to use Spyder.</p>

<p>This diagram shows a basic Spyder session:</p>

<center><img src="/img/spyder.png" alt="Img" style="width: 800px"></center>

<p>The window on the left is a text editor where you can write your script, the window on the right is the console where the output of the script will be shown. The green play button will run the script through the console, giving you the output.</p>

<p>Although we recommend using Spyder if you are a beginner, there are many other ways to use Python. One notable method is called <a href="https://ipython.org/" target="_blank" rel="noopener noreferrer">IPython</a>.</p>

<p>For consistency in this workshop and to maintain transferability between different platforms, the rest of the tutorial assumes that you are using the text editor and command line approach described above, but everything should still work if you want to use an IDE like Spyder.</p>

<h4 id="hello-world">Hello, World!</h4>

<p>Let’s try running the most basic program to test you have a working Python installation:</p>

<p>Open a text file with the editor of your choice or in the Spyder IDE, and type the following lines:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">"Hello, World!"</span><span class="p">)</span>
</code></pre></div></div>

<p>Then save the file as <code class="language-plaintext highlighter-rouge">hello.py</code>.</p>

<p>If you are using the Spyder IDE, you can then press the green play button or select “Run” from the menu to run the script through the console on the right hand side of the screen.</p>

<p>If you are using the command line you can navigate to the folder where <code class="language-plaintext highlighter-rouge">hello.py</code> is stored, then run the script by typing:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python hello.py
</code></pre></div></div>

<p>Hopefully, regardless of what method you use, you should see “Hello, World!” printed to screen.</p>

<h4 id="files-for-this-tutorial">Files for this tutorial</h4>

<p>This short tutorial is based around exploring data from the School of GeoSciences weather station, which is located on top of the James Clark Maxwell Building at the University of Edinburgh.</p>

<h2 id="you-can-download-the-data-and-some-helpful-python-cheatsheets-from-this-github-repository-clone-and-download-the-repo-as-a-zipfile-by-pressing-the-big-green-button-then-unzip-it-you-should-then-save-any-python-scripts-to-that-folder-so-they-can-access-the-data-easily">You can download the data, and some helpful Python cheatsheets from <a href="https://github.com/ourcodingclub/CC-python-intro" target="_blank" rel="noopener noreferrer">this github repository</a>. Clone and download the repo as a zipfile by pressing the big green button, then unzip it. You should then save any python scripts to that folder, so they can access the data easily.</h2>

<p>Alternatively, you can fork <a href="https://github.com/ourcodingclub/CC-python-intro" target="_blank" rel="noopener noreferrer">the repository</a> to your own Github account and then clone it using the HTTPS/SSH link. For more details on how to register on Github, download Git and use version control, please check out our <a href="https://ourcodingclub.github.io/2017/02/27/git.html" target="_blank" rel="noopener noreferrer">previous tutorial.</a></p>

<p>You can have a look at all the data via the <a href="https://www.ed.ac.uk/geosciences/weather-station/weather-station-data" target="_blank" rel="noopener noreferrer">link to the station webpage</a>, but for ease of use, we’ve provided the data file <a href="https://github.com/ourcodingclub/CC-python-intro" target="_blank" rel="noopener noreferrer">in the repo you just downloaded</a> (<code class="language-plaintext highlighter-rouge">StormEleanor_2_3_Jan.csv</code>). Specifically, the data comes from <a href="https://www.metoffice.gov.uk/barometer/uk-storm-centre/storm-eleanor" target="_blank" rel="noopener noreferrer">Storm Eleanor</a>, which passed over the UK and Edinburgh on the 2nd-3rd January 2018.</p>

<p><a name="reading"></a></p>

<h2 id="reading-data-from-a-file">Reading data from a file</h2>

<p>We are going to start off simple, using the basic ‘core’ Python language features to explore the data, then later in the tutorial we’ll look at some of the ways we can use modules and libraries to make dealing with data easier. Create a new Python script in your editor or IDE, and type in the following lines:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">weatherfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"StormEleanor_2_3_Jan.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">weatherfile</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="n">weatherfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<p>Save it and run the script. You should see all the lines of the csv file are printed out to screen.</p>

<p>It’s good practice in Python to use a keyword called <code class="language-plaintext highlighter-rouge">with</code> when you are reading from (or writing to) data files. The <code class="language-plaintext highlighter-rouge">with</code> keyword ensures that files are automatically closed properly at the end of their use, and system resources are correctly freed up. You could think of it intuitively like, “<strong>With</strong> this file opened <strong>as</strong> this shorthand name, I am going to do these things in the following block of code…”. The above script can be shortened by replacing the <code class="language-plaintext highlighter-rouge">open()</code> and <code class="language-plaintext highlighter-rouge">close()</code> statements with a single <code class="language-plaintext highlighter-rouge">with</code> and <code class="language-plaintext highlighter-rouge">open</code> as below:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"StormEleanor_2_3_Jan.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">weatherfile</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">weatherfile</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</code></pre></div></div>
<p>Note how when using <code class="language-plaintext highlighter-rouge">with</code> we do not have to worry about closing the file – it is taken care of automatically when we exit the code block. <code class="language-plaintext highlighter-rouge">with</code> also makes sure that any exceptions that occur when opening the file are dealt with appropriately.</p>

<p>The second argument we provide to the <code class="language-plaintext highlighter-rouge">open()</code> function, <code class="language-plaintext highlighter-rouge">"r"</code>, tells the Python we want to open the file for <em>reading</em> from it. There are other arguments that we could have given such as <code class="language-plaintext highlighter-rouge">"w"</code> for writing to the file. <a href="https://docs.python.org/3/library/functions.html#open" target="_blank" rel="noopener noreferrer">More details can be found in the Python documentation</a>.</p>

<p><a name="feeling"></a></p>

<h3 id="a-note-on-code-blocks-in-python">A note on code blocks in Python</h3>

<p>All programming languages need a way of marking small units or subsections of code. For example, in a <code class="language-plaintext highlighter-rouge">for</code> loop, there needs to be a way to mark the start and end of the code to be executed within the loop. Some programming languages use terminating keywords to take care of this, Matlab and Fortran for example use the <strong>end</strong> keyword to signify the end of a particular code block. C-based languages often use the “curly braces” to open and close code blocks. E.g.:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">some_condition</span> <span class="o">==</span> <span class="nb">true</span><span class="p">)</span><span class="o">:</span>
<span class="p">{</span>
  <span class="c1">// do something here inside the braces...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Python uses neither braces nor “end” statements to mark the end of code blocks. Instead, the end of code blocks are inferred from the indentation or <em>whitespace</em>. Indenting code in Python implies that you are starting a code block, such as in the for loops or with blocks in the above examples. To end the code block (say at the end of an <strong>if</strong> statement, you simply <em>un-indent</em> the code to the previous indentation level. This often catches people out when first using Python – Python in this respect is quite a visual language – you need to look at the indentation levels to work out where your code blocks start and finish. There are advantages and disadvantages to this, but one major advantage is that it forces you to write very legible and consistently indented code! Python will complain if your indentation is wrong or inconsistent.</p>

<p>You may use either a tab or spaces (any number of spaces…) to indicate indentation. I prefer personally to use two spaces, as it’s easy to type and keeps the code looking nice and compact, but it’s up to your personal preference. The important thing is to <strong>be consistent with your whitespace and indentation!</strong></p>

<p><a name="loading"></a>
<a name="basics"></a></p>

<h3 id="loading-a-text-file-into-memory-and-basic-data-structures">Loading a text file into memory and basic data structures</h3>

<p>We can load the data in from the file and print it to screen, but that probably isn’t much practical use. How should we approach reading the data into variables that we can manipulate and perform calculations on? We can do this by assigning the values in the file to a basic Python data structure, the <strong>list</strong>. (We shall discover later that lists are not necessarily the best data struture for numerical data, but they are a good introduction when learning Python.)</p>

<p>Firstly, our csv file is separated by commas, but we need to get rid of these before we can start doing useful things with the data. In fact, although it is obvious to us that we are dealing with numeric data, Python is just treating the text file as a bunch of lines of text, rather than numbers. In Python (and many other languages), this type of data is refered to as a <em>string</em>. Try changing the <code class="language-plaintext highlighter-rouge">print(line)</code> function in the above code snippet to: <code class="language-plaintext highlighter-rouge">print(type(line))</code> and run the program again.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"StormEleanor_2_3_Jan.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">weatherfile</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">weatherfile</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
</code></pre></div></div>

<p>You should get this output printed repeatedly to screen:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">str</span><span class="s">'&gt; </span><span class="err">
</span></code></pre></div></div>

<p>If you are using the older Python version 2, it will be slightly different:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nb">type</span> <span class="s">'str'</span><span class="o">&gt;</span>
</code></pre></div></div>

<p>…but it effectively means the same thing.</p>

<p><code class="language-plaintext highlighter-rouge">str</code> is short for <em>string</em>, i.e. text or characters. But wait, this means that the variable <code class="language-plaintext highlighter-rouge">line</code> is just one long string of text from our data, including all the commas from the csv file format. This is not ideal if we want to work on individual values from the file. Luckily, Python is very good at manipulating strings. We can break up the data by <em>splitting</em> the string. Change the script so it contains:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"StormEleanor_2_3_Jan.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">weatherfile</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">weatherfile</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">))</span>
</code></pre></div></div>

<p>We should get output that looks something like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">...</span>
<span class="p">[</span><span class="s">'1239882'</span><span class="p">,</span> <span class="s">'252.5'</span><span class="p">,</span> <span class="s">'3.466666'</span><span class="p">,</span> <span class="s">'4.3'</span><span class="p">,</span> <span class="s">'6.5'</span><span class="p">,</span> <span class="s">'78'</span><span class="p">,</span> <span class="s">'978.0999'</span><span class="p">,</span> <span class="s">'0</span><span class="se">\n</span><span class="s">'</span><span class="p">]</span>
<span class="o">...</span>
</code></pre></div></div>

<p>We also probably want the data separated by the columns, so we can do calculations on each column of data, like wind-speed, rainfall, pressure, and so on.</p>

<p>Let’s suppose we are interested in the <code class="language-plaintext highlighter-rouge">air pressure</code> from our data file. Air pressure is stored in the 7th column of the text file. However, Python, like many other programming languages, starts counting from <em>zero</em>, so the columns of each line are numbered 0, 1, 2, 3, 4, 5, 6, 7. So to get the seventh column we actually use the number 6:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"StormEleanor_2_3_Jan.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">weatherfile</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">weatherfile</span><span class="p">:</span>
    <span class="n">data_row</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
    <span class="n">pressure</span> <span class="o">=</span> <span class="n">data_row</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
    <span class="k">print</span><span class="p">(</span><span class="n">pressure</span><span class="p">)</span>
</code></pre></div></div>

<p>We’ve broken this down into stages now. First we create a variable called <code class="language-plaintext highlighter-rouge">data_row</code> to store each line of the text file as a <strong>list</strong> as we read it in. Then we get each value of pressure by <em>indexing</em> the <code class="language-plaintext highlighter-rouge">data_row</code> list with the number 6. Finally we print the <code class="language-plaintext highlighter-rouge">pressure</code> value to screen. Run the above code and you should get all the pressure values printed out.</p>

<p>This is okay, but we are just printing out values of pressure, not storing them anywhere. In fact we are overwriting the value of <code class="language-plaintext highlighter-rouge">pressure</code> every time we go through the <code class="language-plaintext highlighter-rouge">for</code> loop. So we are going to create a list of pressure values that we can store and reuse. The script should be changed to look like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pressure_data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"StormEleanor_2_3_Jan.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">weatherfile</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">weatherfile</span><span class="p">:</span>
    <span class="n">data_row</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
    <span class="n">pressure</span> <span class="o">=</span> <span class="n">data_row</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">pressure_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pressure</span><span class="p">)</span>
</code></pre></div></div>

<p>Note that we must first create an empty list to store our pressure data in. We also have to make sure to create it outside of the <code class="language-plaintext highlighter-rouge">with</code> block, in case we want to use it later on. In the for loop we do the following for every line:</p>

<h5 id="1-split-the-line-up-from-one-long-string-into-a-list-of-items-in-the-row">1. Split the line up from one long string into a list of items in the row.</h5>
<h5 id="2-extract-the-item-at-position-6-the-pressure-reading">2. Extract the item at position 6. (The pressure reading)</h5>
<h5 id="3-use-the-append-method-to-add-the-current-lines-pressure-value-to-our-list-of-pressure-data">3. Use the <code class="language-plaintext highlighter-rouge">append</code> method to add the current line’s pressure value to our list of pressure data.</h5>

<p>We now have a data structure called <code class="language-plaintext highlighter-rouge">pressure_data</code> that contains all the air pressure measurements from the text file. But there are a couple of problems here. (Can you think what they might be?)</p>

<p>Hint: Think about</p>

<h5 id="1-the-very-first-line-in-the-original-text-file">1. The very first line in the original text file</h5>
<h5 id="2-the-type-of-the-data-in-the-list">2. The type of the data in the list…</h5>

<p>Yes, unfortunately, we have two problems: 1. The first text line in the original file (<code class="language-plaintext highlighter-rouge">Pair_avg</code>) has been read into the list, which is not good if we want to try and sum or average the list later, because it will contain a string as well as some numbers. 2. The items in the list are actually all still strings, not numbers! You can test this by adding two print statements to the end of the script:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pressure_data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"StormEleanor_2_3_Jan.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">weatherfile</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">weatherfile</span><span class="p">:</span>
    <span class="n">data_row</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
    <span class="n">pressure</span> <span class="o">=</span> <span class="n">data_row</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">pressure_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pressure</span><span class="p">)</span>

<span class="c1"># Oh no! This is the header line!
</span><span class="k">print</span><span class="p">(</span><span class="n">pressure_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>   <span class="c1"># Prints: 'Pair_avg'
</span>
<span class="c1"># Argh! This is a string!
</span><span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pressure_data</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>  <span class="c1"># Prints: 'str'
</span></code></pre></div></div>

<p>Remember that <code class="language-plaintext highlighter-rouge">pressure_data[0]</code> refers to the very first line of the csv file we read in, which is a header line containing text. Similarly, <code class="language-plaintext highlighter-rouge">pressure_data[1]</code> refers to the <em>second</em> line of the csv file, because Python counts from zero.</p>

<p>No worries, we can fix this. To skip the header line, we can use a handy built-in function in Python called <code class="language-plaintext highlighter-rouge">next()</code>. <code class="language-plaintext highlighter-rouge">next()</code> can be used on objects or data structures in Python to simply mean “Go to the next item in this object”. By adding <code class="language-plaintext highlighter-rouge">next(weatherfile)</code>, we are telling Python to take us to the next line before we start to do anything else.</p>

<p>Python is normally quite good at inferring what type of data you are dealing with, but sometimes it needs a hint. We can do this by converting our <code class="language-plaintext highlighter-rouge">pressure</code> variable from a string to a floating-point number by doing: <code class="language-plaintext highlighter-rouge">float(pressure)</code></p>

<p>With the above amendments, your script should now look like:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pressure_data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"StormEleanor_2_3_Jan.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">weatherfile</span><span class="p">:</span>
  <span class="nb">next</span><span class="p">(</span><span class="n">weatherfile</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">weatherfile</span><span class="p">:</span>
    <span class="n">data_row</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
    <span class="n">pressure</span> <span class="o">=</span> <span class="n">data_row</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">pressure_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">pressure</span><span class="p">))</span>
</code></pre></div></div>

<p>If you like you can add print statements to check that the type of data is no longer strings, and that we have skipped over the header line containing the description text.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pressure_data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"StormEleanor_2_3_Jan.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">weatherfile</span><span class="p">:</span>
  <span class="nb">next</span><span class="p">(</span><span class="n">weatherfile</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">weatherfile</span><span class="p">:</span>
    <span class="n">data_row</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
    <span class="n">pressure</span> <span class="o">=</span> <span class="n">data_row</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">pressure_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">pressure</span><span class="p">))</span>

<span class="k">print</span><span class="p">(</span><span class="n">pressure_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pressure_data</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</code></pre></div></div>

<p>The output should be:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>989.4
&lt;class 'float'&gt;
</code></pre></div></div>

<p><a name="modules"></a></p>

<h2 id="moving-beyond-the-core-python-language-with-modules">Moving beyond the core Python language with modules</h2>

<p>This all seems a bit long-winded, doesn’t it? Isn’t Python meant to be quick and easy, I hear you cry?</p>

<p>Correct. Python’s simple and hopefully intuitive syntax is nice, but the real strength of Python lies in its support for packages and libraries/modules that make your coding life easier.</p>

<p>Python actually has built in support for reading text and csv files, using a module (or library) called…<code class="language-plaintext highlighter-rouge">csv</code>! So there is no need to do all of the above every time you want to read in a simple text file. But I hope it was useful introduction to the feel of Python syntax, and some of the basic language features – they will come in handy later!</p>

<p>To use the <code class="language-plaintext highlighter-rouge">csv</code> module in Python, we have to <em>import</em> it first, which is just a way of saying we want to bring this module into our Python program and use its features.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>

<span class="n">pressure_data</span> <span class="o">=</span> <span class="p">[]</span>   <span class="c1"># Create an empty list as before to store values
</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'StormEleanor_2_3_Jan.csv'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">csvfile</span><span class="p">:</span>
  <span class="nb">next</span><span class="p">(</span><span class="n">csvfile</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">csvfile</span><span class="p">,</span> <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_NONNUMERIC</span><span class="p">):</span>
    <span class="n">pressure_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

<span class="c1"># Check our variables look okay and they are the correct type:
</span><span class="k">print</span><span class="p">(</span><span class="n">pressure_data</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pressure_data</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">quoting=csv.QUOTE_NONNUMERIC</code> argument tells the csv module to read all the non-quoted values in the csv file as strings, and the rest as numeric values (e.g. floats).</p>

<p>Using the built-in <code class="language-plaintext highlighter-rouge">csv</code> module is <em>okay</em>; it’s a bit nicer than the manual version we made using only the core Python language, but there are <em>much</em> better alternatives available by using one of the many available Python <em>packages</em>. In the remainder of the tutorial, we are going to (very briefly!) look at two powerful Python packages that are widely used in scientific programming: <code class="language-plaintext highlighter-rouge">pandas</code> and <code class="language-plaintext highlighter-rouge">matplotlib</code>. (<code class="language-plaintext highlighter-rouge">numpy</code> will be covered in a later tutorial).</p>

<h4 id="packages-vs-libraries-vs-modules">Packages vs libraries vs modules</h4>

<p>You will hear the following terms used a lot in the Python world (and other languages too). In a general sense, they all refer to ‘add-ons, ‘extras’, or additional Python software providing extra features in addition to the core Python language. <em>Package</em> usually means an externally developed piece of Python software that has to be installed separately. A <em>library</em> or <em>module</em> generally refers to add-ons that already bundled with a standard Python installation (such as the <code class="language-plaintext highlighter-rouge">csv</code> library/module). You will find the terms are used interchangeably - even in the official Python documentation!</p>

<p><em>Strictly speaking, a Python <strong>module</strong> is simply a Python source file, which groups together similar functions, data structures, and variables, but this is getting beyond the scope of an introductory tutorial…</em></p>

<p>Packages and modules are ubiquitous in Python, and most scientific programming done with Python makes use of one or more packages that are installed separately to the standard Python installation. You can think of them as ‘add-ons’ to the basic Python language, much like libraries in R or other programming languages. <code class="language-plaintext highlighter-rouge">pandas</code> is a package that contains a whole bunch of useful functions and data structures for dealing with tables of data, time-series data, and other similar datasets.</p>

<p><a name="pandas"></a></p>

<h2 id="a-brief-introduction-to-data-analysis-with-pandas">A brief introduction to data analysis with Pandas</h2>

<p>We are going to dive right in here and start using a Python package called <code class="language-plaintext highlighter-rouge">pandas</code>, which is widely used for data analysis. (The name comes from <em>panel data</em> rather than the cute black and white fluffy animals at Edinburgh Zoo.)</p>

<h3 id="why-pandas-and-when-to-use-it">Why Pandas and when to use it?</h3>

<p><code class="language-plaintext highlighter-rouge">pandas</code> is useful for situations when you have data in ‘table-like’ form, such as the sample weather station data we are using, that you want to perform some form of analysis on. <code class="language-plaintext highlighter-rouge">pandas</code> is particularly useful when you have columns of data, potentially of different data types. Timeseries data, database-like data, are other typical types of dataset used with <code class="language-plaintext highlighter-rouge">pandas</code>.</p>

<h4 id="when-to-use-pandas">When to use <code class="language-plaintext highlighter-rouge">pandas</code>:</h4>

<h5 id="table-like-columnar-data">Table-like columnar data</h5>
<h5 id="interfacing-with-databases-mysql-etc">Interfacing with databases (MySQL etc.)</h5>
<h5 id="multiple-data-types-in-a-single-data-file">Multiple data-types in a single data file.</h5>

<h4 id="when-not-to-use-pandas">When not to use <code class="language-plaintext highlighter-rouge">pandas</code>:</h4>

<h5 id="for-really-simple-data-files-a-single-column-of-values-in-a-text-file-for-example-might-be-overkill">For really simple data files (a single column of values in a text file, for example, might be overkill).</h5>
<h5 id="if-you-are-dealing-with-large-gridded-datasets-of-a-single-data-type-consider-using-numpy">If you are dealing with large gridded datasets of a single data type. (Consider using <code class="language-plaintext highlighter-rouge">numpy</code>).</h5>
<h5 id="if-you-are-doing-lots-of-matrix-calculations-or-other-heavily-mathematical-operations-on-gridded-data-consider-using-numpy">If you are doing lots of matrix calculations, or other heavily mathematical operations on gridded data. (Consider using <code class="language-plaintext highlighter-rouge">numpy</code>).</h5>

<p>Let’s have a look at using <code class="language-plaintext highlighter-rouge">pandas</code> to load in our weather station data. Create a new script using your editor or IDE containing the following:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'StormEleanor_2_3_Jan.csv'</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">','</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<p>These two lines of code read the whole table of data from the text file into a data structure assigned to the variable name <code class="language-plaintext highlighter-rouge">data</code>. Run the script. There will be no output yet, but check that no errors come up.</p>

<p>That’s it! Two lines of code :)</p>

<p>Let’s break down the above to see what is happening. After we import <code class="language-plaintext highlighter-rouge">pandas</code>, we can now use functions in <code class="language-plaintext highlighter-rouge">pandas</code> using the abbreviated form <code class="language-plaintext highlighter-rouge">pd</code>. We then access the <code class="language-plaintext highlighter-rouge">pandas</code> functions and data structures by putting a dot <code class="language-plaintext highlighter-rouge">.</code> after <code class="language-plaintext highlighter-rouge">pd</code>, and then typing the name of the function we want to use. The dotted notation is used a lot in Python: it’s a shorthand way accessing functions and data structures from modules, or sub-modules, like saying, “Get me the <code class="language-plaintext highlighter-rouge">read_csv</code> function from the <code class="language-plaintext highlighter-rouge">pandas</code> module”.</p>

<p>In this case, we are using the <code class="language-plaintext highlighter-rouge">read_csv</code> function to load a text based file (after all, a csv file is just a text file). We need to give the <code class="language-plaintext highlighter-rouge">read_csv</code> function three arguments:</p>

<h5 id="1-the-path-and-name-of-the-file-stormeleanor_2_3_jancsv-this-assumes-you-have-downloaded-the-text-file-to-the-same-folder-you-are-writing-your-python-scripts">1. The <em>path and name</em> of the file (“StormEleanor_2_3_Jan.csv”). (This assumes you have downloaded the text file to the same folder you are writing your Python scripts.)</h5>
<h5 id="2-the-delimiter-used-in-this-type-of-text-file-or-the-character-used-to-separate-the-values-in-the-file-since-we-are-using-a-csv-file-comma-separated-variable-file-the-delimiter-is-a-comma--the-delimiter-must-go-inside-quotation-marks">2. The <em>delimiter</em> used in this type of text file, or the character used to separate the values in the file. Since we are using a csv file (comma separated variable file), the delimiter is a comma (<code class="language-plaintext highlighter-rouge">','</code>). The delimiter must go inside quotation marks.</h5>
<h5 id="3-the-header-argument-which-tells-pandas-which-row-contains-the-column-header-names-remember-python-starts-counting-from-zero-so-we-want-to-use-row-0">3. The <em>header</em> argument, which tells pandas which row contains the column header names. Remember Python starts counting from zero, so we want to use row 0.</h5>

<p>Finally, note that we have assigned the result of the <code class="language-plaintext highlighter-rouge">read_csv</code> function call to a variable we have created called <code class="language-plaintext highlighter-rouge">data</code>. This variable is a <code class="language-plaintext highlighter-rouge">pandas</code> <em>dataframe</em>. (Try using <code class="language-plaintext highlighter-rouge">type(data)</code> to get Python to confirm this for you). We will have a look at the <code class="language-plaintext highlighter-rouge">pandas</code> dataframe type in a later tutorial, for now you can think of it as a more ‘feature-rich’ data structure than the <code class="language-plaintext highlighter-rouge">list</code> type we used in the previous example.</p>

<h3 id="exploring-our-weather-data">Exploring our weather data</h3>

<p><code class="language-plaintext highlighter-rouge">pandas</code> is clever in that it is aware that the header row is used to refer to the columns of data below it in the text file. Whereas in a standard Python list we would have to index an item of data by an index number, <code class="language-plaintext highlighter-rouge">pandas</code> lets us access data by its column name, which easier to remember than a number! So if we wanted to get hold of the Air Pressure data, we could do so using:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'StormEleanor_2_3_Jan.csv'</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">','</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">pressure_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Pair_Avg'</span><span class="p">]</span>
</code></pre></div></div>

<p>which would give us a single column of data corresponding to the air pressures, and assign it to the variable <code class="language-plaintext highlighter-rouge">pressure_data</code>. Use the above code to extract the air pressures as a new variable, and then print them out to screen by re-running the script. The final script should be like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'StormEleanor_2_3_Jan.csv'</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">','</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">pressure_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Pair_Avg'</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="n">pressure_data</span><span class="p">)</span>
</code></pre></div></div>

<p>Python should print out all the Air Pressure data, as well as a ‘record’ number on the left hand side, and at the end it prints out the name of the data variable and the data type.</p>

<p><a name="matplotlib"></a></p>

<h2 id="plotting-data-with-matplotlib">Plotting data with matplotlib</h2>

<p>Let’s plot the data! We are going to use another package called <code class="language-plaintext highlighter-rouge">matplotlib</code>. <code class="language-plaintext highlighter-rouge">matplotlib</code> is a widely used plotting library that can be used to create a wide range of high-quality charts and graphs of scientific data. We’re going to keep it simple in this introductory tutorial by plotting a simple line graph of the pressure data from the JCMB weather station.</p>

<p><code class="language-plaintext highlighter-rouge">matplotlib</code> is imported using this syntax, which you should add to the top of your script:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
</code></pre></div></div>

<p>Note how we are now using the dot notation to only import a submodule from the <code class="language-plaintext highlighter-rouge">matplotlib</code> package, namely the <code class="language-plaintext highlighter-rouge">pyplot</code> module. Pyplot is designed to mimic in many ways the Matlab plotting functionality, so users of matlab may see some similarity with the commands of pyplot.</p>

<p>To plot the data, we can do this by adding two new function calls to the end of our script:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'StormEleanor_2_3_Jan.csv'</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">','</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">pressure_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Pair_Avg'</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pressure_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">"pressure.png"</span><span class="p">)</span>

</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">plot</code> function will plot a line chart by default, and the first argument is the dataseries you wish to plot. There are many other optional arguments that can be provided to the plot function, but for now we will just keep it simple. To write the plot out to an image file, the <code class="language-plaintext highlighter-rouge">savefig</code> function is used, with the filename specified. The image filetype is inferred from the filename (e.g. “.png”) and a wide range of common image file types are supported in <code class="language-plaintext highlighter-rouge">matplotlib</code>, including vector and raster formats.</p>

<p>Open the “pressure.png” file (it will be in the same folder) and you should see a simple line plot of the pressure data over the 2 days that Storm Eleanor passed over Edinburgh. It should look something like this:</p>

<center> <img src="/img/pressure.png" alt="Img" style="width: 500px;"> </center>

<p>We can see how the pressure drops significantly as the storm passes over the weather station. However, the plot could be improved with some lables on the axes, and a title. To add them to the figure, change our script to include the following:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'StormEleanor_2_3_Jan.csv'</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">','</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">pressure_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Pair_Avg'</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pressure_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"Pressure (hPa)"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Average Pressure, JCMB Weather Station, 2-3rd Jan 2018"</span><span class="p">)</span>

<span class="c1"># Hmmm, what about the time along the x axis?...
</span></code></pre></div></div>

<p>As you can see, adding labels is easy enough with the <code class="language-plaintext highlighter-rouge">ylabel</code> and <code class="language-plaintext highlighter-rouge">title</code> functions. But although there is an <code class="language-plaintext highlighter-rouge">xlabel</code> function, our x data is simply integers for each timestep, rather than an actual timestamp. It would be more readable if we could convert these integers into actual times, and plot these instead. We can do this with the help of the <code class="language-plaintext highlighter-rouge">datetime</code> module, a built-in python module for dealing with dates and times.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># import the required libraries and modules
</span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="c1"># Code to create the timeseries values
</span><span class="n">date_time_series</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">date_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">date_at_end</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">59</span><span class="p">)</span>
<span class="n">step</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="k">while</span> <span class="n">date_time</span> <span class="o">&lt;=</span> <span class="n">date_at_end</span><span class="p">:</span>
  <span class="n">date_time_series</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">date_time</span><span class="p">)</span>
  <span class="n">date_time</span> <span class="o">+=</span> <span class="n">step</span>

<span class="k">print</span><span class="p">(</span><span class="n">date_time_series</span><span class="p">)</span>
</code></pre></div></div>
<p>Let’s break this down:</p>

<h5 id="1-we-add-datetime-to-our-import-statements-at-the-start-of-the-script">1. We add <code class="language-plaintext highlighter-rouge">datetime</code> to our import statements at the start of the script</h5>
<h5 id="2-we-create-an-empty-list-to-store-our-dates">2. We create an empty list to store our dates</h5>
<h5 id="3-we-set-the-first-date-in-the-series-which-is-midnight-0000-on-the-2nd-january-2018-midnight-is-set-by-default-if-no-hoursminutes-are-specified">3. We set the first date in the series, which is Midnight (00:00) on the 2nd January 2018. (Midnight is set by default if no hours/minutes are specified)</h5>
<h5 id="4-we-set-the-end-date-for-our-date-which-is-2359-on-the-3rd-january-2018">4. We set the end date for our date, which is 23:59 on the 3rd January 2018.</h5>
<h5 id="5-set-the-timestep-as-a-timedelta-object-remember-the-weather-station-data-is-recorded-every-minute">5. Set the timestep as a <code class="language-plaintext highlighter-rouge">timedelta</code> object. (Remember, the weather station data is recorded every minute.</h5>
<h5 id="6-iterate-by-adding-the-time-delta-to-the-start-time-and-appending-the-new-time-step-to-the-list-until-we-reach-the-final-time">6. Iterate by adding the time delta to the start time, and appending the new time step to the list, until we reach the final time.</h5>

<p>Finally, we now have a new list of times that we can plot. When we call plt.plot() this time, we are going to supply <em>two</em> arguments: an x series (datetimes) and a y series (pressure).</p>

<p>Add the above code into your script after the data loading lines, then run the script again. (Make sure you still have a plt.savefig() call at the end).</p>

<p>We can also add a few extra matplotlib functions to tidy up our plot:</p>

<h5 id="7-optional-it-will-probably-look-nice-if-the-x-labels-are-rotated-slightly-so-that-the-times-dont-overlap-we-can-do-this-by-setting-the-rotation-argument-in-the-pltxticks-function">7. (Optional) It will probably look nice if the x-labels are rotated slightly so that the times don’t overlap. We can do this by setting the <code class="language-plaintext highlighter-rouge">rotation</code> argument in the <code class="language-plaintext highlighter-rouge">plt.xticks()</code> function.</h5>

<h5 id="8-to-tidy-up-the-axes-and-scale-them-correctly-we-can-add-a-call-to-plttight_layout-just-before-we-save-the-figure">8. To tidy up the axes, and scale them correctly, we can add a call to <code class="language-plaintext highlighter-rouge">plt.tight_layout()</code> just before we save the figure.</h5>

<p>The final script should look now look like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'StormEleanor_2_3_Jan.csv'</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">','</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">pressure_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Pair_Avg'</span><span class="p">]</span>

<span class="n">date_time_series</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">date_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">date_at_end</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">59</span><span class="p">)</span>
<span class="n">step</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="k">while</span> <span class="n">date_time</span> <span class="o">&lt;=</span> <span class="n">date_at_end</span><span class="p">:</span>
  <span class="n">date_time_series</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">date_time</span><span class="p">)</span>
  <span class="n">date_time</span> <span class="o">+=</span> <span class="n">step</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">date_time_series</span><span class="p">,</span> <span class="n">pressure_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"Pressure (hPa)"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">"Time"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Average Pressure, JCMB Weather Station, 2-3rd Jan 2018"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=-</span><span class="mi">60</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">"pressure_final.png"</span><span class="p">)</span>
</code></pre></div></div>

<p>Make sure the script is saved, and then run it. Open up the “pressure_final.png” file to see your results.</p>

<p>The final figure should look like this:</p>

<center> <img src="/img/pressure_final.png" alt="Img" style="width: 500px;"> </center>

<h2 id="summary">Summary</h2>

<p>In this tutorial we have looked at why Python is popular for scientific programming, and gotten a feel for how Python looks and feels. Hopefully, you have learnt some of the basic syntax, and how to write and run simple python scripts to read in data from text files, and make a simple plot of some of the data.</p>

<h3 id="tutorial-outcomes">Tutorial outcomes:</h3>

<h4 id="1-you-have-a-feel-for-how-widely-used-python-is-and-why-it-is-popular">1. You have a feel for how widely used Python is, and why it is popular</h4>

<h4 id="2-you-can-run-a-simple-test-python-program-on-your-computer">2. You can run a simple test Python program on your computer</h4>

<h4 id="3-you-can-read-in-data-from-a-text-file-using-the-core-python-language">3. You can read in data from a text file using the core Python language</h4>

<h4 id="4-you-can-use-modules-and-packages-to-streamline-data-reading-and-analysis">4. You can use modules and packages to streamline data reading and analysis</h4>

<h4 id="5-you-can-make-simple-figures-with-matplotlib">5. You can make simple figures with matplotlib</h4>

<h4 id="6-you-have-a-feel-for-some-of-the-basic-syntax-and-data-structures-of-python">6. You have a feel for some of the basic syntax and data structures of Python</h4>

<hr>

<hr>

<p><strong>Check out <a href="https://ourcodingclub.github.io/workshop/" target="_blank" rel="noopener noreferrer">this page</a> to learn how you can get involved! We are very happy to have people use our tutorials and adapt them to their needs. We are also very keen to expand the content on the website, so feel free to get in touch if you’d like to write a tutorial!</strong></p>

<p><a rel="noopener noreferrer" href="http://creativecommons.org/licenses/by/4.0/" target="_blank"><img alt="Creative Commons License" style="width: 100px" src="https://i.creativecommons.org/l/by/4.0/80x15.png"></a><br>This work is licensed under a <a rel="noopener noreferrer" href="http://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</p>

<h3><a href="https://www.surveymonkey.co.uk/r/WVL5GXB" target="_blank" rel="noopener noreferrer">  We would love to hear your feedback, please fill out our survey!</a></h3>
<p><br></p>
<h3>  You can contact us with any questions on <a href="mailto:ourcodingclub@gmail.com?Subject=Tutorial%20question" target="_top">ourcodingclub@gmail.com</a>
</h3>
<p><br></p>
<h3>  Related tutorials:</h3>

<ul>
  
  
</ul>
<p><br></p>
<h3>  Subscribe to our mailing list:</h3>
<div class="container">
	<div class="block">
        <!-- subscribe form start -->
		<div class="form-group">
			<form action="https://getsimpleform.com/messages?form_api_token=de1ba2f2f947822946fb6e835437ec78" method="post">
			<div class="form-group">
				<input type="text" class="form-control" name="Email" placeholder="Email" required="">
			</div>
			<div>
                        	<button class="btn btn-default" type="submit">Subscribe</button>
                    	</div>
                	</form>
		</div>
	</div>
</div>

<ul class="social-icons">
	<li>
		<h3>
			<a href="https://twitter.com/our_codingclub" target="_blank" rel="noopener noreferrer"> Follow our coding adventures on Twitter! <i class="fa fa-twitter"></i></a>
		</h3>
	</li>
</ul>


    	<footer class="footer">
	<hr>
	<div class="footer-container">
    	<ul class="footer-link-list">
        	<li><a href="/tutorials">Tutorials</a></li>
        	<li><a href="/team">About Us</a></li>
        	<li><a href="/contact">Contact us</a></li>
	    	<li><a href="https://twitter.com/our_codingclub" target="_blank" rel="noopener noreferrer">Follow us on Twitter</a></li>
    	</ul>
    	<div class="footer-text">
			<p>We are happy for people to use and further develop our tutorials - please give credit to Coding Club by linking to <a href="https://ourcodingclub.github.io/" target="_blank" rel="noopener noreferrer">our website</a>. We are also happy to discuss possible collaborations, so get in touch at <b>ourcodingclub@gmail.com</b></p>
    		<p>See our <a href="/terms">Terms of Use</a> and our <a href="/privacy">Data Privacy policy</a>.</p>
			<p>This work is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer">Creative Commons Attribution-ShareAlike 4.0 International License</a></p>
			<a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer"><img class="license" src="https://licensebuttons.net/l/by-sa/4.0/80x15.png" alt="CC-by-sa-4.0"></a>
    	</div>
    </div>
</footer>

<!-- JS -->
<script src="/scripts/owl.carousel.js"></script>
<script src="/scripts/owl.carousel-init.js"></script>
<script src="/scripts/reveal.js"></script>


	
	</body>
</html>
