<!DOCTYPE html>
<html lang="en-GB">
	<head>
    	<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Getting Started with Shiny</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- CSS -->
<link rel="stylesheet" href="/css/main.css"/>
<link rel="stylesheet" href="/css/owlcarousel/owl.carousel.css">
<link rel="stylesheet" href="/css/owlcarousel/owl.theme.default.css">

<!-- JS -->
<script src="https://use.fontawesome.com/4dd22df1f8.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="/scripts/accordion.js"></script>
<script src="/scripts/jquery.counterup.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.5/waypoints.min.js"></script>
<script src="/scripts/ticker.js"></script>

	</head>
	<body>
    	<header class="header">
	<div class="navigation-bar">
		<div id="navigation-container">
			
				<a class="logo" href="/">
  <img src="/assets/img/logos/logo_stack.svg" alt="Coding Club logo">
</a>

			
			<nav>
				<label for="hamburger">☰</label>
				<input type="checkbox" id="hamburger">
				<ul>
					
						
					<li class="item item-nav">
						<a href="/">Home</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/tutorials.html">Tutorials</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/course.html">Course</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/team.html">Team</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/involve.html">Get involved</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/links.html">Links</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/contact.html">Contact</a>
					</li>
					
				</ul>
			</nav>
		</div>
	</div>
</header>

			
	<div class="banner">
	
		
			<h1 style="color: $bannerNoImageColour">Getting Started with Shiny</h1>
			
				<h3 style="color: $bannerNoImageColour">Creating interactive web apps using the R language</h3>
			
		
	
</div>




<div class="content">
	<p class="author">
		
			Created by John
		
		
		
	</p>
	<hr>
	<h3 id="tutorial-aims">Tutorial aims:</h3>

<ol>
  <li><a href="#download">Downloading Shiny</a></li>
  <li><a href="#structure">Getting familiar with the Shiny app file structure</a></li>
  <li><a href="#layout">Getting familiar with the Shiny app.R layout</a></li>
  <li><a href="#create">Creating a Shiny app</a></li>
  <li><a href="#export">Exporting a finished app</a></li>
  <li><a href="#challenge">Challenge yourself to write an app</a></li>
</ol>

<p>At it’s core, Shiny is merely an R package like <code class="language-plaintext highlighter-rouge">dplyr</code> or <code class="language-plaintext highlighter-rouge">ggplot2</code>. The package is used to create web-applications, but uses the R language rather than javascript or HTML5, which are traditionally used for web applications. By using R, Shiny provides an efficient method of creating web applications designed around data presentation and analysis.</p>

<p>Below is an example of the basic Shiny app that we will be recreating in today’s tutorial:</p>

<iframe src="https://johngodlee.shinyapps.io/barley_yield_exploration/" style="border:none;width:1000px;height:550px;"></iframe>

<p>Have a look at these extra examples if you want to see what other Shiny apps can looks like, or if you want inspiration for your own app:</p>

<ul>
  <li><a href="http://shiny.rstudio.com/gallery/" target="_blank" rel="noopener noreferrer">A gallery of basic Shiny apps</a></li>
  <li><a href="https://johngodlee.shinyapps.io/carbon_emissions/" target="_blank" rel="noopener noreferrer">A complex app visualising carbon emissions in real time</a></li>
</ul>

<h3 id="what-are-shiny-apps-useful-for">What are Shiny Apps useful for?</h3>

<ul>
  <li>Interactive data visualisation for presentations and websites</li>
  <li>Sharing results with collaborators</li>
  <li>Communicating science in an accessible way</li>
  <li>Bridging the gap between R users and non-R users</li>
</ul>

<h3 id="download">Downloading Shiny and tutorial resources</h3>

<p>To get Shiny in RStudio, the first thing you need is the <code class="language-plaintext highlighter-rouge">shiny</code> package, by running the code below in RStudio:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">install.packages</span><span class="p">(</span><span class="s2">"shiny"</span><span class="p">)</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"rsconnect"</span><span class="p">)</span><span class="w">  </span><span class="c1"># For publishing apps online</span><span class="w">
</span><span class="n">install.packages</span><span class="p">(</span><span class="s2">"agridat"</span><span class="p">)</span><span class="w">  </span><span class="c1"># For the dataset in today's tutorial</span><span class="w">
</span></code></pre></div></div>

<p>You can download the resources for this tutorial by heading to <a href="https://github.com/ourcodingclub/CC-11-Shiny" target="_blank" rel="noopener noreferrer">the Github repository for this tutorial</a>. You can click on <code class="language-plaintext highlighter-rouge">Clone / Download</code> and either download the zip file and extract the files, or fork the repository to your own Github account. <a href="https://ourcodingclub.github.io/2017/02/27/git.html" target="_blank" rel="noopener noreferrer">See our Git and Github tutorial for more info</a>.</p>

<h2 id="structure">The Shiny app file structure</h2>

<p>Next, select <em>File/ New File/ Shiny Web App…</em>, give the application a descriptive name (<strong>no spaces</strong>) and change the application type to “<em>Single File (app.R)</em>”, save the app in an appropriate directory and click <em>Create</em>.</p>

<p>RStudio generates a template R script called <code class="language-plaintext highlighter-rouge">app.R</code>. <strong>Delete all the code in the template so you have a blank script.</strong></p>

<p>Notice that the name you gave to your app was assigned to the directory, not the app script file. For your app to work, the file must remain named <code class="language-plaintext highlighter-rouge">app.R</code>!</p>

<p>It is possible to create a Shiny app with two files called <code class="language-plaintext highlighter-rouge">ui.R</code> and <code class="language-plaintext highlighter-rouge">server.R</code>, but the same can be accomplished by using one file. In the past, Shiny apps had to be created using two files, but the Shiny package has since been updated to allow the single file app structure, making things much tidier. You will see some tutorials on the internet using the old two file structure, but these can be easily translated to the one file structure. This tutorial will assume you have the one file app structure.</p>

<p>Now we can set up the rest of the folders for your app. Add a folder called <code class="language-plaintext highlighter-rouge">Data</code> and a folder called <code class="language-plaintext highlighter-rouge">www</code> in your app directory. <code class="language-plaintext highlighter-rouge">Data</code> will hold any data used by the app and <code class="language-plaintext highlighter-rouge">www</code> will hold any images and other web elements.</p>

<p>To review, a Shiny application should have this specific folder structure to work properly:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Test_App
├── app.R
├── Data
│   └── data.csv
└── www
    └── A.jpg
</code></pre></div></div>

<h2 id="layout">app.R layout</h2>

<p>Now that the folder structure is set up, head back to RStudio to start building <code class="language-plaintext highlighter-rouge">app.R</code>. A basic <code class="language-plaintext highlighter-rouge">app.R</code> consists of these five parts:</p>

<ul>
  <li>A section at the top of the script loading any packages needed for the app to run. <code class="language-plaintext highlighter-rouge">shiny</code> is required at the very least, but others like <code class="language-plaintext highlighter-rouge">dplyr</code> or <code class="language-plaintext highlighter-rouge">ggplot2</code> could be added as they are needed:</li>
</ul>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Packages ----</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">shiny</span><span class="p">)</span><span class="w">  </span><span class="c1"># Required to run any Shiny app</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">  </span><span class="c1"># For creating pretty plots</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w">  </span><span class="c1"># For filtering and manipulating data</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">agridat</span><span class="p">)</span><span class="w">  </span><span class="c1"># The package where the data comes from</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>A section loading any data needed by the app:</li>
</ul>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Loading data ----</span><span class="w">
</span><span class="n">Barley</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">beaven.barley</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>An object called <code class="language-plaintext highlighter-rouge">ui</code>, which contains information about the layout of the app as it appears in your web browser. <code class="language-plaintext highlighter-rouge">fluidPage()</code> defines a layout that will resize according to the size of the browser window. All the app code will be placed within the brackets.</li>
</ul>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ui.R ----</span><span class="w">
</span><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>An object called <code class="language-plaintext highlighter-rouge">server</code>, which contains information about the computation of the app, creating plots, tables, maps etc. using information provided by the user. All the app code will be placed within the curly brackets.</li>
</ul>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># server.R ----</span><span class="w">
</span><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>A command to run the app. This should be included at the very end of <code class="language-plaintext highlighter-rouge">app.R</code>. It tells shiny that the user interface comes from the object called <code class="language-plaintext highlighter-rouge">ui</code> and that the server information (data, plots, tables, etc.) comes from the object called <code class="language-plaintext highlighter-rouge">server</code>.</li>
</ul>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Run the app ----</span><span class="w">
</span><span class="n">shinyApp</span><span class="p">(</span><span class="n">ui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">server</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><strong>Delete any example code generated automatically when you created <code class="language-plaintext highlighter-rouge">app.R</code> and create a basic Shiny app by copying the snippets of code above into your <code class="language-plaintext highlighter-rouge">app.R</code>. Your script should now look like this:</strong></p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="c1"># Packages ----</span><span class="w">
 </span><span class="n">library</span><span class="p">(</span><span class="n">shiny</span><span class="p">)</span><span class="w">  </span><span class="c1"># Required to run any Shiny app</span><span class="w">
 </span><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">  </span><span class="c1"># For creating pretty plots</span><span class="w">
 </span><span class="n">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w">  </span><span class="c1"># For filtering and manipulating data</span><span class="w">
 </span><span class="n">library</span><span class="p">(</span><span class="n">agridat</span><span class="p">)</span><span class="w">  </span><span class="c1"># The package where the data comes from</span><span class="w">

 </span><span class="c1"># Loading data ----</span><span class="w">
 </span><span class="n">Barley</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">beaven.barley</span><span class="p">)</span><span class="w">

 </span><span class="c1"># ui.R ----</span><span class="w">
 </span><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">()</span><span class="w">

 </span><span class="c1"># server.R ----</span><span class="w">
 </span><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w">

 </span><span class="c1"># Run the app ----</span><span class="w">
 </span><span class="n">shinyApp</span><span class="p">(</span><span class="n">ui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">server</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h3 id="layout-of-a-shiny-app">Layout of a Shiny App</h3>

<p>Shiny apps are structured using panels, which are laid out in different arrangements. Panels can contain text, widgets, plots, tables, maps, images, etc.</p>

<p><a href="https://shiny.rstudio.com/articles/layout-guide.html" target="_blank" rel="noopener noreferrer">Here is a good set of examples on how the panel layout can be changed</a>. The most basic layout uses <code class="language-plaintext highlighter-rouge">fluidRow()</code> and <code class="language-plaintext highlighter-rouge">column()</code> to manually create grids of a given size. <code class="language-plaintext highlighter-rouge">fluidRow()</code> allows a lot of customisation, but is more fiddly. In this tutorial, we will be using <code class="language-plaintext highlighter-rouge">sidebarLayout()</code>, which creates a large panel and a smaller inset side panel.</p>

<h2 id="syntax">Creating a Shiny App - Basic Syntax</h2>

<p>To illustrate how to code a Shiny app, we will emulate a simple app that I wrote to explore some data on the productivity of Barley genotypes.</p>

<p><a href="https://johngodlee.shinyapps.io/barley_yield_exploration" target="_blank" rel="noopener noreferrer">Open up the finished web app and have a look at it</a>.</p>

<p>You can get the code for this app by opening <code class="language-plaintext highlighter-rouge">app.R</code> in the <code class="language-plaintext highlighter-rouge">Example_app</code> folder in the tutorial repository which you downloaded earlier.</p>

<p>Looking at the app and comparing to the panel layout examples in the above link, we can see that the app has a <code class="language-plaintext highlighter-rouge">sidebarLayout</code> with a <code class="language-plaintext highlighter-rouge">sidebarPanel</code>, <code class="language-plaintext highlighter-rouge">mainPanel</code> and <code class="language-plaintext highlighter-rouge">titlePanel</code>. It uses a <code class="language-plaintext highlighter-rouge">selectInput</code> to choose the genotype of barley shown in the histogram and the table, another <code class="language-plaintext highlighter-rouge">selectInput</code> for the colour of the histogram, a <code class="language-plaintext highlighter-rouge">sliderInput</code> to choose the number of bins in the histogram and a <code class="language-plaintext highlighter-rouge">textInput</code> to display some text in the app. The histogram is located in the <code class="language-plaintext highlighter-rouge">mainPanel</code> along with a summary table of the data being shown, while the inputs are in the <code class="language-plaintext highlighter-rouge">sidebarPanel</code>.</p>

<p><strong>Go back to your <code class="language-plaintext highlighter-rouge">app.R</code> and fill in the code you already have with the new bits of code below, which will serve as the basic skeleton for our app. Remember that you should only have one <code class="language-plaintext highlighter-rouge">ui</code> and one <code class="language-plaintext highlighter-rouge">server</code> object. Don’t just copy and paste the below:</strong></p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Packages ----</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">shiny</span><span class="p">)</span><span class="w">  </span><span class="c1"># Required to run any Shiny app</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">  </span><span class="c1"># For creating pretty plots</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w">  </span><span class="c1"># For filtering and manipulating data</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">agridat</span><span class="p">)</span><span class="w">  </span><span class="c1"># The package where the data comes from</span><span class="w">

</span><span class="c1"># Loading data ----</span><span class="w">
</span><span class="n">Barley</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">beaven.barley</span><span class="p">)</span><span class="w">

</span><span class="c1"># ui.R ----</span><span class="w">
</span><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">(</span><span class="w">
  </span><span class="n">titlePanel</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="w">  </span><span class="c1"># Add a title panel</span><span class="w">
  </span><span class="n">sidebarLayout</span><span class="p">(</span><span class="w">  </span><span class="c1"># Make the layout a sidebarLayout</span><span class="w">
    </span><span class="n">sidebarPanel</span><span class="p">(),</span><span class="w">  </span><span class="c1"># Inside the sidebarLayout, add a sidebarPanel</span><span class="w">
    </span><span class="n">mainPanel</span><span class="p">()</span><span class="w">  </span><span class="c1"># Inside the sidebarLayout, add a mainPanel</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="c1"># server.R ----</span><span class="w">
</span><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w">

</span><span class="c1"># Run the app ----</span><span class="w">
</span><span class="n">shinyApp</span><span class="p">(</span><span class="n">ui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ui</span><span class="p">,</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">server</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">titlePanel()</code> indicates that we would like a separate panel at the top of the page in which we can put the title.</p>

<p><code class="language-plaintext highlighter-rouge">sidebarLayout()</code> indicates that we want our Shiny app to have the sidebar layout, one of many layouts we saw above. Within <code class="language-plaintext highlighter-rouge">sidebarLayout</code> we have:</p>

<p><code class="language-plaintext highlighter-rouge">sidebarPanel()</code> indicates that we want a sidebar panel included in our app. Sidebar panels often contain input widgets like sliders, text input boxes, radio buttons etc.</p>

<p><code class="language-plaintext highlighter-rouge">mainPanel()</code> indicates that we want a larger main panel. Main panels often contain the output of the app, whether it is a table, map, plot or something else.</p>

<h3 id="input-widgets">Input widgets</h3>

<p>Now that we have our basic structure we can start to fill it with inputs and outputs.</p>

<p>The example app has four input widgets, a <code class="language-plaintext highlighter-rouge">selectInput</code> for genotype, a <code class="language-plaintext highlighter-rouge">selectInput</code> for histogram colour, a <code class="language-plaintext highlighter-rouge">sliderInput</code> for number of bins and a <code class="language-plaintext highlighter-rouge">textInput</code> to add some  arbitrary text. Each of these widgets provides information on how to display the histogram and its accompanying table. In the example app, all the widgets are found in the <code class="language-plaintext highlighter-rouge">sidebarPanel</code> so the code for these widgets should be put in the <code class="language-plaintext highlighter-rouge">sidebarPanel</code> command like this:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">(</span><span class="w">
  </span><span class="n">titlePanel</span><span class="p">(</span><span class="s2">"Barley Yield"</span><span class="p">),</span><span class="w">
  </span><span class="n">sidebarLayout</span><span class="p">(</span><span class="w">
    </span><span class="n">sidebarPanel</span><span class="p">(</span><span class="w">
      </span><span class="n">selectInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gen"</span><span class="p">,</span><span class="w">  </span><span class="c1"># Give the input a name "genotype"</span><span class="w">
      </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1. Select genotype"</span><span class="p">,</span><span class="w">  </span><span class="c1"># Give the input a label to be displayed in the app</span><span class="w">
      </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="s2">"B"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="s2">"C"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"c"</span><span class="p">,</span><span class="s2">"D"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"d"</span><span class="p">,</span><span class="s2">"E"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"e"</span><span class="p">,</span><span class="s2">"F"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"f"</span><span class="p">,</span><span class="s2">"G"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"g"</span><span class="p">,</span><span class="s2">"H"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"h"</span><span class="p">),</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"a"</span><span class="p">),</span><span class="w">  </span><span class="c1"># Create the choices that can be selected. e.g. Display "A" and link to value "a"</span><span class="w">
    </span><span class="n">selectInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"colour"</span><span class="p">,</span><span class="w"> 
      </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2. Select histogram colour"</span><span class="p">,</span><span class="w"> 
      </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"blue"</span><span class="p">,</span><span class="s2">"green"</span><span class="p">,</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"purple"</span><span class="p">,</span><span class="s2">"grey"</span><span class="p">),</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey"</span><span class="p">),</span><span class="w">
    </span><span class="n">sliderInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bin"</span><span class="p">,</span><span class="w"> 
      </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"3. Select number of histogram bins"</span><span class="p">,</span><span class="w"> 
      </span><span class="n">min</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=</span><span class="m">25</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">)),</span><span class="w">
    </span><span class="n">textInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w"> 
      </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"4. Enter some text to be displayed"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">)</span><span class="w">
    </span><span class="p">),</span><span class="w">
  </span><span class="n">mainPanel</span><span class="p">()</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Note that <code class="language-plaintext highlighter-rouge">choices = c("A" = "a" ...</code> could be replaced with <code class="language-plaintext highlighter-rouge">choices = unique(Barley$gen)</code> to simply use the groups directly from the dataset.</p>

<p><strong>Spend a couple of minutes looking at this code so you understand what it means, then fill in your own <code class="language-plaintext highlighter-rouge">app.R</code> with the code.</strong></p>

<p>Let’s break down <code class="language-plaintext highlighter-rouge">selectInput()</code> to understand what is going on:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">inputId = "genotype"</code> gives this input the name <code class="language-plaintext highlighter-rouge">genotype</code>, which will become useful when referencing this input later in the app script.</li>
  <li>
<code class="language-plaintext highlighter-rouge">label = "1\. Select genotype"</code> gives this input a label to be displayed above it in the app.</li>
  <li>
<code class="language-plaintext highlighter-rouge">choices = c("A" = "a","B" = "b", ...</code> gives a list of choices to be displayed in the dropdown menu (<code class="language-plaintext highlighter-rouge">A, B, etc.</code>) and the value that is actually gathered from that choice for use in the output (<code class="language-plaintext highlighter-rouge">a, b, etc.</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">selected = "grey"</code> gives the value from the dropdown menu that is selected by default.</li>
</ul>

<p>You can look into the arguments presented by the other input widgets by using the help function <code class="language-plaintext highlighter-rouge">?</code>. For example, by running the code <code class="language-plaintext highlighter-rouge">?textInput</code> in the R console.</p>

<h4 id="more-input-widgets">More Input Widgets</h4>

<p>There are plenty of pre-made widgets in Shiny. Here is a selection, each with the minimum number of arguments needed when running the app, though many more can be added:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">actionButton</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"action"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Go!"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">radioButtons</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"radio"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Radio Buttons"</span><span class="p">,</span><span class="w"> </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"B"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">selectInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"select"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"select"</span><span class="p">,</span><span class="w"> </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"B"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sliderInput</span><span class="p">(</span><span class="n">inputId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"slider"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"slider"</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Notice how all of the inputs require an <code class="language-plaintext highlighter-rouge">inputId</code> and a <code class="language-plaintext highlighter-rouge">label</code> argument.</p>

<h3 id="running-a-shiny-app">Running a Shiny App</h3>

<p>Take this opportunity to preview your app by clicking <em>Run App</em>:</p>

<p><img src="/img/Run_App_Screenshot.jpg" alt="Img"></p>

<p>or use the keyboard shortcut <code class="language-plaintext highlighter-rouge">Cmd + Opt + R</code> (Mac), <code class="language-plaintext highlighter-rouge">Ctrl + Alt + R</code> (Windows).</p>

<p>When a Shiny app is running from RStudio, the console cannot be used. To stop the app, click the <em>Stop</em> button in the top right of the console window or press the <code class="language-plaintext highlighter-rouge">Esc</code> key.</p>

<p><img src="/img/Stop_Screenshot.jpg" alt="Img"></p>

<h3 id="output">Output</h3>

<p>A Shiny app without any outputs is useless. Outputs can be in the form of plots, tables, maps or text.</p>

<p>As per our example app, we’re going to be using <code class="language-plaintext highlighter-rouge">ggplot()</code> to create a histogram. For more information on creating plots in <code class="language-plaintext highlighter-rouge">ggplot2</code>, see our tutorials on <a href="https://ourcodingclub.github.io/2017/01/29/datavis.html" target="_blank" rel="noopener noreferrer">basic data visualisation</a> and <a href="https://ourcodingclub.github.io/2017/03/29/data-vis-2.html" target="_blank" rel="noopener noreferrer">customising ggplot graphs</a>.</p>

<p>Outputs are created by placing code in the curly brackets (<code class="language-plaintext highlighter-rouge">{}</code>) in the <code class="language-plaintext highlighter-rouge">server</code> object:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">output</span><span class="o">$</span><span class="n">plot</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderPlot</span><span class="p">(</span><span class="n">ggplot</span><span class="p">(</span><span class="n">Barley</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yield</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="c1"># Create object called `output$plot` with a ggplot inside it</span><span class="w">
  </span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w">  </span><span class="c1"># Add a histogram to the plot</span><span class="w">
    </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey"</span><span class="p">,</span><span class="w">  </span><span class="c1"># Make the fill colour grey</span><span class="w">
    </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Barley</span><span class="p">,</span><span class="w">  </span><span class="c1"># Use data from `Barley`</span><span class="w">
    </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"black"</span><span class="p">)</span><span class="w">  </span><span class="c1"># Outline the bins in black</span><span class="w">
  </span><span class="p">)</span><span class="w">                                                       
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Look at the code above for a couple of minutes to understand what is going on, then add it to your own <code class="language-plaintext highlighter-rouge">app.R</code> in the appropriate place.</strong></p>

<p>Basically, we are creating an object called <code class="language-plaintext highlighter-rouge">output$plot</code> and using <code class="language-plaintext highlighter-rouge">renderPlot()</code> to wrap a <code class="language-plaintext highlighter-rouge">ggplot()</code> command.</p>

<h3 id="reactive-output">Reactive output</h3>

<p>The histogram is great, but not particularly interactive. We need to link our input widgets to our output object.</p>

<p>We want to select individual genotypes to display in our histogram, which the user can select using the <code class="language-plaintext highlighter-rouge">selectInput</code> that we called <code class="language-plaintext highlighter-rouge">genotype</code> earlier. Use some base R wizardry, <code class="language-plaintext highlighter-rouge">[]</code> <code class="language-plaintext highlighter-rouge">$</code> and <code class="language-plaintext highlighter-rouge">==</code>, to select the data we want. <strong>Update <code class="language-plaintext highlighter-rouge">server</code> with the new reactive output arguments so it looks like the code below</strong>:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">output</span><span class="o">$</span><span class="n">plot</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderPlot</span><span class="p">(</span><span class="n">ggplot</span><span class="p">(</span><span class="n">Barley</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yield</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w">
      </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey"</span><span class="p">,</span><span class="w">
      </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Barley</span><span class="p">[</span><span class="n">Barley</span><span class="o">$</span><span class="n">gen</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">gen</span><span class="p">,],</span><span class="w">
      </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"black"</span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w">                                                       
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">data = Barley[Barley$Genotype == input$gen,]</code> tells <code class="language-plaintext highlighter-rouge">geom_histogram()</code> to only use data where the value in column <code class="language-plaintext highlighter-rouge">gen</code> is equal to (<code class="language-plaintext highlighter-rouge">==</code>) the value given by <code class="language-plaintext highlighter-rouge">input$gen</code>. Note the <code class="language-plaintext highlighter-rouge">,</code> after <code class="language-plaintext highlighter-rouge">input$gen</code> which indicates that we are selecting columns and that all the rows should be selected.</p>

<p>Next, we want to be able to change the colour of the histogram based on the value of the <code class="language-plaintext highlighter-rouge">selectInput</code> called <code class="language-plaintext highlighter-rouge">colour</code>. To do this, simply change fill = “grey” to <code class="language-plaintext highlighter-rouge">fill = input$colour</code>.</p>

<p>Next, we want to select the number of bins in the histogram using the <code class="language-plaintext highlighter-rouge">sliderInput</code> called <code class="language-plaintext highlighter-rouge">bin</code>. Simply change <code class="language-plaintext highlighter-rouge">bins = 7</code> to <code class="language-plaintext highlighter-rouge">bins = input$bin</code>.</p>

<p>Finally, to create a table output showing some summary statistics of the selected genotype, create a new output object called <code class="language-plaintext highlighter-rouge">output$table</code> and use <code class="language-plaintext highlighter-rouge">renderTable()</code> to create a table generated using dplyr <code class="language-plaintext highlighter-rouge">summarise()</code>. See our <a href="https://ourcodingclub.github.io/2017/01/16/piping.html#dplyr" target="_blank" rel="noopener noreferrer">tutorial on data manipulation</a> for more information on dplyr. <strong>Update server with the <code class="language-plaintext highlighter-rouge">output$table</code> information so it looks like the code below</strong>:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="n">output</span><span class="o">$</span><span class="n">myhist</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderPlot</span><span class="p">(</span><span class="n">ggplot</span><span class="p">(</span><span class="n">Barley</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yield</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
	</span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">bin</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">col</span><span class="p">,</span><span class="w"> </span><span class="n">group</span><span class="o">=</span><span class="n">input</span><span class="o">$</span><span class="n">gen</span><span class="p">,</span><span class="w"> 
		</span><span class="n">data</span><span class="o">=</span><span class="n">Barley</span><span class="p">[</span><span class="n">Barley</span><span class="o">$</span><span class="n">gen</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">gen</span><span class="p">,],</span><span class="w">
  		</span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"black"</span><span class="p">))</span><span class="w">

</span><span class="n">output</span><span class="o">$</span><span class="n">mytext</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderText</span><span class="p">(</span><span class="n">input</span><span class="o">$</span><span class="n">text</span><span class="p">)</span><span class="w">

</span><span class="n">output</span><span class="o">$</span><span class="n">mytable</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderTable</span><span class="p">(</span><span class="n">Barley</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
</span><span class="n">filter</span><span class="p">(</span><span class="n">gen</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">gen</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
</span><span class="n">summarise</span><span class="p">(</span><span class="s2">"Mean"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">yield</span><span class="p">),</span><span class="w"> 
  	</span><span class="s2">"Median"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">median</span><span class="p">(</span><span class="n">yield</span><span class="p">),</span><span class="w">
  	</span><span class="s2">"STDEV"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sd</span><span class="p">(</span><span class="n">yield</span><span class="p">),</span><span class="w"> 
  	</span><span class="s2">"Min"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">yield</span><span class="p">),</span><span class="w">
  	</span><span class="s2">"Max"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">yield</span><span class="p">)))</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="displaying-output">Displaying output</h3>

<p>To make the outputs appear on your app in the <code class="language-plaintext highlighter-rouge">mainPanel</code>, <strong>they need to be added to the <code class="language-plaintext highlighter-rouge">ui</code> object inside <code class="language-plaintext highlighter-rouge">mainPanel()</code> like so</strong>:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> 
  </span><span class="n">fluidPage</span><span class="p">(</span><span class="w">
    </span><span class="n">titlePanel</span><span class="p">(</span><span class="s2">"Barley Yield"</span><span class="p">),</span><span class="w">
    </span><span class="n">sidebarLayout</span><span class="p">(</span><span class="w">
      </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"right"</span><span class="p">,</span><span class="w">
      </span><span class="n">sidebarPanel</span><span class="p">(</span><span class="n">h3</span><span class="p">(</span><span class="s2">"Inputs for histogram"</span><span class="p">),</span><span class="w"> 
                   </span><span class="n">selectInput</span><span class="p">(</span><span class="s2">"gen"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1. Select genotype"</span><span class="p">,</span><span class="w"> </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"A"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="s2">"B"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="s2">"C"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"c"</span><span class="p">,</span><span class="s2">"D"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"d"</span><span class="p">,</span><span class="s2">"E"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"e"</span><span class="p">,</span><span class="s2">"F"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"f"</span><span class="p">,</span><span class="s2">"G"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"g"</span><span class="p">,</span><span class="s2">"H"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"h"</span><span class="p">),</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"a"</span><span class="p">),</span><span class="w">
                   </span><span class="n">br</span><span class="p">(),</span><span class="w">
                   </span><span class="n">selectInput</span><span class="p">(</span><span class="s2">"col"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2. Select histogram colour"</span><span class="p">,</span><span class="w"> </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"blue"</span><span class="p">,</span><span class="s2">"green"</span><span class="p">,</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"purple"</span><span class="p">,</span><span class="s2">"grey"</span><span class="p">),</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey"</span><span class="p">),</span><span class="w">
                   </span><span class="n">br</span><span class="p">(),</span><span class="w">
                   </span><span class="n">sliderInput</span><span class="p">(</span><span class="s2">"bin"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3. Select number of histogram bins"</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="o">=</span><span class="m">25</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">)),</span><span class="w">
                   </span><span class="n">br</span><span class="p">(),</span><span class="w">
                   </span><span class="n">textInput</span><span class="p">(</span><span class="s2">"text"</span><span class="p">,</span><span class="w"> </span><span class="s2">"4. Enter some text to be displayed"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">)),</span><span class="w">
                   </span><span class="n">mainPanel</span><span class="p">(</span><span class="w">
                             </span><span class="n">plotOutput</span><span class="p">(</span><span class="s2">"myhist"</span><span class="p">),</span><span class="w">
                             </span><span class="n">tableOutput</span><span class="p">(</span><span class="s2">"mytable"</span><span class="p">),</span><span class="w">
                             </span><span class="n">textOutput</span><span class="p">(</span><span class="s2">"mytext"</span><span class="p">)</span><span class="w">
                             </span><span class="p">)</span><span class="w">
      </span><span class="p">)</span><span class="w">
    </span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><strong>Take this chance to preview your app again by clicking <code class="language-plaintext highlighter-rouge">Run</code> in RStudio.</strong></p>

<h3 id="additional-elements">Additional elements</h3>

<h4 id="html">HTML</h4>

<p>To make your app look more pretty, you can add HTML tags like in a normal HTML webpage. Below is a table of basic HTML tags, their Shiny equivalent and a description of what they do:</p>

<table>
  <thead>
    <tr>
      <th>HTML</th>
      <th style="text-align: center">Shiny</th>
      <th>Function</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;div&gt;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tags$div()</code></td>
      <td>Defines a block with consistent formatting</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;br&gt;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tags$br()</code></td>
      <td>Inserts a break</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;hr&gt;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tags$hr()</code></td>
      <td>Inserts a horizontal line</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;p&gt;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tags$p()</code></td>
      <td>Creates a paragraph of text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;a&gt;</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tags$a(href = "LINK", "displayed text")</code></td>
      <td>Creates a clickable link</td>
    </tr>
  </tbody>
</table>

<p>A list of all HTML tags can be found using:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">shiny</span><span class="o">::</span><span class="n">tags</span><span class="w">
</span></code></pre></div></div>

<p>Some tags may conflict with other functions and so you should always state the source the function comes from by using <code class="language-plaintext highlighter-rouge">tags$</code>, e.g.:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tags</span><span class="o">$</span><span class="n">div</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<p>Tags can be stacked to apply many arguments to the same object/text, just as in HTML:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tags</span><span class="o">$</span><span class="n">div</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">"color:red"</span><span class="p">,</span><span class="w">
  </span><span class="n">tags</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="s2">"Visit us at:"</span><span class="p">),</span><span class="w">
  </span><span class="n">tags</span><span class="o">$</span><span class="n">a</span><span class="p">(</span><span class="n">href</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://ourcodingclub.github.io"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Coding Club"</span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>This creates a block of text that is coloured red (<code class="language-plaintext highlighter-rouge">style="color:red"</code>), within that block there is a paragraph of text (<code class="language-plaintext highlighter-rouge">tags$p("Visit us at?:")</code>) and a link (<code class="language-plaintext highlighter-rouge">tags$a(href = "http://ourcodingglub.github.io", "Coding Club")</code>).</p>

<p><strong>Add the code above to your Shiny app in <code class="language-plaintext highlighter-rouge">mainPanel()</code> and see what happens!</strong></p>

<p>For more information on the arguments that can be included in popular Shiny HTML tags, RStudio have a nice wiki at [[https://shiny.rstudio.com/articles/tag-glossary.html]].</p>

<h3 id="export">Exporting a finished app</h3>

<h4 id="as-a-github-repository">As a github repository</h4>

<p>It is easy to send a Shiny app to somebody else who also has RStudio. The easiest way is to send <code class="language-plaintext highlighter-rouge">app.R</code> alongside any data and other resources in a zip file to be unzipped by the recipient and run through R.</p>

<p>If you want to quickly share the app over the internet we recommend using <a href="http://www.github.com" target="_blank" rel="noopener noreferrer">Github</a> to host the file.</p>

<p>Go to <a href="http://www.github.com" target="_blank" rel="noopener noreferrer">Github</a>, sign in with your account details, create a repository and upload everything from your app folder, including any <code class="language-plaintext highlighter-rouge">Data</code> and <code class="language-plaintext highlighter-rouge">www</code> folders.</p>

<p>Remember to add a file called <code class="language-plaintext highlighter-rouge">README.md</code> using <code class="language-plaintext highlighter-rouge">Create new file</code> in your new app repository, where you can write a quick explanation of the content of your app. <code class="language-plaintext highlighter-rouge">.md</code> files can use markdown syntax to create headers, sections, links etc.. See our <a href="https://ourcodingclub.github.io/2016/11/24/rmarkdown-1.html" target="_blank" rel="noopener noreferrer">tutorial on markdown and reproducible research</a> for more markdown tips:</p>

<p><img src="/img/github_create_new_file.jpg" alt=""></p>

<p>To send the app to another person, give them your Github username and the name of the app repo and ask them to run <code class="language-plaintext highlighter-rouge">runGithub()</code> in R, like this:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">runGitHub</span><span class="p">(</span><span class="n">repo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"repo_name"</span><span class="p">,</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"user_name"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Alternatively, if your recipient doesn’t know how Github works, upload your app folder as a <code class="language-plaintext highlighter-rouge">.zip</code> file to Github or any other file-hosting service and they can use <code class="language-plaintext highlighter-rouge">runUrl()</code> if you give them the url of the zipfile:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">runUrl</span><span class="p">(</span><span class="s2">"https://github.com/rstudio/shiny_example/archive/master.zip"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>To learn more about Github, check out our <a href="https://ourcodingclub.github.io/2017/02/27/git.html" target="_blank" rel="noopener noreferrer">tutorial on Git and Github</a>.</p>

<h4 id="as-a-shinyappsio-app">As a shinyapps.io app</h4>

<p>You can also host Shiny apps on <a href="https://www.shinyapps.io" target="_blank" rel="noopener noreferrer">www.shinyapps.io</a>, a webhosting platform run by RStudio that is especially built for Shiny apps. Go to their website and sign up using whatever method you choose, then go to <a href="https://www.shinyapps.io/admin/#/tokens" target="_blank" rel="noopener noreferrer">www.shinyapps.io/admin/#/tokens</a>, click <em>Show secret</em> and copy the <code class="language-plaintext highlighter-rouge">rsconnect</code> account info:</p>

<p><img src="/img/shinyapps_io_token.jpg" alt="Img"></p>

<p>Then open up an R session and run the copied material to link <code class="language-plaintext highlighter-rouge">shinyapps.io</code> with R Studio.</p>

<p>To upload your app, open your <code class="language-plaintext highlighter-rouge">app.R</code> and click the publish button. Select a name for your app (<strong>no spaces</strong>) and click <em>Publish</em>.</p>

<p><img src="/img/rstudio_shiny_publish.jpg" alt=""></p>

<p>The app can then be used by anyone with the URL for that app, which can be found by going to <code class="language-plaintext highlighter-rouge">shinyapps.io</code> and opening the app info from the dashboard:</p>

<p><img src="/img/shinyapps_io_dash.jpg" alt=""></p>

<p>To embed an app that is hosted by <code class="language-plaintext highlighter-rouge">shinyapps.io</code>, in your own website you can put it in an <code class="language-plaintext highlighter-rouge">iframe</code>, replacing the URL with your own app URL and altering the style arguments to your own desire:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;iframe</span> <span class="na">src=</span><span class="s">"https://johngodlee.shinyapps.io/barley_yield_exploration/"</span> <span class="na">style=</span><span class="s">"border:none;width:1000px;height:500px;"</span><span class="nt">&gt;&lt;/iframe&gt;</span>
</code></pre></div></div>

<h3 id="challenge">Challenge yourself to emulate a Shiny app</h3>

<p>Now that you have the skills to create a Shiny app, try to re-create one of the apps in the links below and then publish it to your <code class="language-plaintext highlighter-rouge">shinyapps.io</code> profile. The data for these apps, as well as the code for the apps in case you get stuck, can be found in <a href="https://github.com/ourcodingclub/CC-11-Shiny" target="_blank" rel="noopener noreferrer">the repository for this tutorial</a> in the <code class="language-plaintext highlighter-rouge">Challenge Apps</code> folder.</p>

<ul>
  <li>
<a href="https://gndaskalova.shinyapps.io/lpi_example2/" target="_blank" rel="noopener noreferrer">An app investigating the spatial distribution of records used to create the Living Planet Index</a>. <em>Hint: You will need to use <code class="language-plaintext highlighter-rouge">verticalLayout()</code> for this one</em>.</li>
</ul>

<iframe src="https://johngodlee.shinyapps.io/LPI_example/" style="border:none;width:1000px;height:700px;"></iframe>

<ul>
  <li><a href="https://johngodlee.shinyapps.io/seedling_traits_example/" target="_blank" rel="noopener noreferrer">An app investigating how plant traits vary across an elevational gradient in the Andes</a></li>
</ul>

<iframe src="https://johngodlee.shinyapps.io/seedling_traits_example/" style="border:none;width:1000px;height:500px;"></iframe>


	<div class="survey">
	<hr>
	<hr>
	
		<h4><a href="" target="_blank">We would love to hear your feedback, please fill out our survey!</a></h4>
	
	<h4>Contact us with any questions on <a href="mailto:ourcodingclub@gmail.com?Subject=Tutorial%20question" target="_top">ourcodingclub@gmail.com</a>
</h4>
	<br>
	<h3>Related tutorials:</h3>
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
		
	
		
  			
		
	
		
  			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
		
	
		
  			
		
	
		
	
		
  			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
		
	
		
  			
		
	
		
  			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
		
	
		
  			
    				
			
		
	
		
  			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
		
	
		
  			
    				
			
		
	
	<br>
	<h3>Subscribe to our mailing list:</h3>

	<div class="container">
		<div class="block">
			<!-- subscribe form start -->
			<div class="form-group">
				<form action="https://getsimpleform.com/messages?form_api_token=de1ba2f2f947822946fb6e835437ec78" method="post">
					<div class="form-group">
						<input type="text" class="form-control" name="Email" placeholder="Email" required>
					</div>
					<div>
            			<button class="btn btn-default" type="submit">Subscribe</button>
        			</div>
            	</form>
			</div>
		</div>
	</div>
</div>

</div>

    	<footer class="footer">
	<hr>
	<div class="footer-container">
    	<ul class="footer-link-list">
        	<li><a href="/tutorials">Tutorials</a></li>
        	<li><a href="/team">About Us</a></li>
        	<li><a href="/contact">Contact us</a></li>
	    	<li><a href="https://twitter.com/our_codingclub" target="_blank" rel="noopener noreferrer">Follow us on Twitter</a></li>
    	</ul>
    	<div class="footer-text">
			<p>We are happy for people to use and further develop our tutorials - please give credit to Coding Club by linking to <a href="https://ourcodingclub.github.io/" target="_blank" rel="noopener noreferrer">our website</a>. We are also happy to discuss possible collaborations, so get in touch at <b>ourcodingclub@gmail.com</b></p>
    		<p>See our <a href="/terms">Terms of Use</a> and our <a href="/privacy">Data Privacy policy</a>.</p>
			<p>This work is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer">Creative Commons Attribution-ShareAlike 4.0 International License</a></p>
			<a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer"><img class="license" src="https://licensebuttons.net/l/by-sa/4.0/80x15.png" alt="CC-by-sa-4.0"></a>
    	</div>
    </div>
</footer>

<!-- JS -->
<script src="/scripts/owl.carousel.js"></script>
<script src="/scripts/owl.carousel-init.js"></script>
<script src="/scripts/reveal.js"></script>


	
	</body>
</html>
