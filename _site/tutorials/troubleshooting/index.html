<!DOCTYPE html>
<html lang="en-GB">
	<head>
    	<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Troubleshooting and how to find help</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- CSS -->
<link rel="stylesheet" href="/css/main.css"/>
<link rel="stylesheet" href="/css/owlcarousel/owl.carousel.css">
<link rel="stylesheet" href="/css/owlcarousel/owl.theme.default.css">

<!-- JS -->
<script src="https://use.fontawesome.com/4dd22df1f8.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="/scripts/accordion.js"></script>
<script src="/scripts/jquery.counterup.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.5/waypoints.min.js"></script>
<script src="/scripts/ticker.js"></script>

	</head>
	<body>
    	<header class="header">
	<div class="navigation-bar">
		<div id="navigation-container">
			
				<a class="logo" href="/">
  <img src="/assets/img/logos/logo_stack.svg" alt="Coding Club logo">
</a>

			
			<nav>
				<label for="hamburger">☰</label>
				<input type="checkbox" id="hamburger">
				<ul>
					
						
					<li class="item item-nav">
						<a href="/">Home</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/tutorials.html">Tutorials</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/course.html">Course</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/team.html">Team</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/involve.html">Get involved</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/links.html">Links</a>
					</li>
					
						
					<li class="item item-nav">
						<a href="/contact.html">Contact</a>
					</li>
					
				</ul>
			</nav>
		</div>
	</div>
</header>

			
	<div class="banner">
	
		
			<h1 style="color: $bannerNoImageColour">Troubleshooting and how to find help</h1>
			
				<h3 style="color: $bannerNoImageColour">How to avoid common mistakes in R</h3>
			
		
	
</div>




<div class="content">
	<p class="author">
		
			Created by Gergana
		
		
			- last updated 4th April 2019
		
		
			by Sandra
		
	</p>
	<hr>
	<h3 id="tutorial-aims">Tutorial aims:</h3>

<ol>
  <li><a href="#id">Learn how to pick up on errors in R</a></li>
  <li><a href="#errors">Get familiar with common errors and solutions</a></li>
  <li><a href="#help">Learn how to find help online</a></li>
  <li><a href="#practice">Practice by fixing errors in an example script</a></li>
</ol>

<p>In <a href="https://ourcodingclub.github.io/2016/11/13/intro-to-r.html" target="_blank" rel="noopener noreferrer">our first tutorial</a>, we learned how to import data into <code class="language-plaintext highlighter-rouge">RStudio</code>, conduct a simple analysis (calculate species richness) and plot the results. Not bad for a first time! If you need reminding of some programming terms, take a quick look at our <a href="https://ourcodingclub.github.io/2016/11/13/intro-to-r.html#glossary" target="_blank" rel="noopener noreferrer">glossary</a>.</p>

<p>Programming comes with a learning curve and you will no doubt encounter many error messages while you familiarise yourself with the workings of R. But fear not! Today we will tackle some of the most common coding errors and help you avoid them. You might have seen some of these error messages already, but after completing this tutorial, we hope they won’t appear too often on your RStudio screens.</p>

<h3 id="id">1. Learn how to pick up on errors in R</h3>

<p>In addition to keeping a record of your code, scripts are also useful for detecting simple coding errors before you’ve even run the code. If <code class="language-plaintext highlighter-rouge">RStudio</code> picks up on a character missing, a command that doesn’t make sense due to spelling errors or similar, a little red <em>x</em> appears next to that line of code. Scanning your code for <em>x</em>’s before running it is always a good idea and it’s very convenient since you know exactly on which line you made a mistake. The other way <code class="language-plaintext highlighter-rouge">R</code> reports errors is through messages in the console, which appear after you run code that is not quite right. Although the error messages look scary (the red font and words like “fatal” sure give them a bad reputation), they are actually the second best option to no errors at all: <code class="language-plaintext highlighter-rouge">R</code> has identified there is a problem and from the message, you can figure out what it is and solve it!</p>

<p><img src="/img/xandm.png" alt=""></p>

<h3 id="errors">2. Get familiar with common errors and solutions</h3>

<p>Here we have compiled a list of mistakes we often make. Do you think we have forgotten an error message or problem you encounter often? Please let us know at ourcodingclub@gmail.com and we will add it to our list!</p>

<ul>
  <li>
    <p><strong>Your version of <code class="language-plaintext highlighter-rouge">R</code> or <code class="language-plaintext highlighter-rouge">RStudio</code> is too old (or too new)</strong>. If you haven’t updated <code class="language-plaintext highlighter-rouge">R</code> or <code class="language-plaintext highlighter-rouge">RStudio</code> in a while, you might not be able to use some of the new packages coming out - when you try installing the package, you will get an error message saying that the package is not compatible with your version of <code class="language-plaintext highlighter-rouge">RStudio</code>. This problem is quickly fixed by a visit to the <a href="https://www.rstudio.com/products/rstudio/" target="_blank" rel="noopener noreferrer">RStudio website</a> or the <a href="https://cran.r-project.org/" target="_blank" rel="noopener noreferrer">R website</a>, from there you can get the most recent version. On the flip side, when you get the newest RStudio, packages that haven’t been updated recently might not work, or your old code breaks. This occurs less often and in general, code is ever evolving and getting better and better, so it’s good to keep up to date with the latest versions of both RStudio and R packages.</p>
  </li>
  <li>
    <p><strong>Syntax errors</strong>. The easiest mistakes to make! You’ve forgotten a comma, opened a bracket, but haven’t closed it, added an extra character by mistake or something else <code class="language-plaintext highlighter-rouge">R</code> doesn’t understand. Those are usually picked up by R and you will get error messages reminding you to proof-read your code and fix it. If you can’t pinpoint the correct way to code what you need, there are many <a href="#help">places to find help</a>. Following a <a href="https://ourcodingclub.github.io/2017/04/25/etiquette.html" target="_blank" rel="noopener noreferrer">Coding Etiquette</a> can help you keep these errors to a minimum.</p>
  </li>
  <li>
    <p><strong>You’re trying to use a certain function and R doesn’t recognise it</strong>. First, it’s worth checking whether you have installed and loaded the package the function comes from - running the code <code class="language-plaintext highlighter-rouge">?function-name</code>, e.g. <code class="language-plaintext highlighter-rouge">?filter</code> will display a help screen with information on how you use the function, as well as the package it comes from.</p>
  </li>
</ul>

<p>If you have loaded several similar packages from your library, they might contain different functions with the same name and your code might break if <code class="language-plaintext highlighter-rouge">R</code> is confused as to which one to use - running <code class="language-plaintext highlighter-rouge">package::function</code>, e.g. <code class="language-plaintext highlighter-rouge">dplyr::filter</code> will return information on the function in the console. Note that <code class="language-plaintext highlighter-rouge">R</code> will try to add <code class="language-plaintext highlighter-rouge">()</code> at the end of <code class="language-plaintext highlighter-rouge">dplyr::filter</code>. Delete them and run the code.</p>

<p>If you are reading up on <code class="language-plaintext highlighter-rouge">R</code> online, or copying and modifying code, you might be using a function from a new package without knowing. If it looks unfamiliar, googling its name with “r package” might reveal its origin. Sometimes packages depend on other packages to run. Often those get installed automatically when you install the package, but sometimes you get an error message asking you to install another package, easily solved by <code class="language-plaintext highlighter-rouge">install.packages("newpackage")</code>.</p>

<ul>
  <li>
    <p><strong>Function breakdown and debugging</strong>. If you are running self made functions or <code class="language-plaintext highlighter-rouge">for</code> loops, you might need to go through R’s traceback/debug browser. You can find help on <a href="https://support.rstudio.com/hc/en-us/articles/205612627-Debugging-with-RStudio" target="_blank" rel="noopener noreferrer">RStudio’s Debugging Support Page</a>.</p>
  </li>
  <li>
    <p><strong>Missing objects</strong>. Running tests and plotting data are often hindered by R failing to find the object it’s meant to analyse. When that happens, first check that your object names are correct: spelling mistakes (capital and lower case letters, wrong letters, etc.) can all make objects unrecognisable. In this code <code class="language-plaintext highlighter-rouge">e &lt;- length(unique(FloweringPlants$taxonName))</code> I asked R to calculate species richness of flowering plants, but forgot that I called the object <code class="language-plaintext highlighter-rouge">Flowering.Plants</code> not <code class="language-plaintext highlighter-rouge">FloweringPlants</code>. Remember that when you refer to a certain variable from an object using the dollar sign, the object comes first, the variable second:<code class="language-plaintext highlighter-rouge">Flowering.Plants$taxonGroup</code>, not <code class="language-plaintext highlighter-rouge">taxonGroup$Flowering.Plants</code>.</p>
  </li>
  <li>
    <p><strong>Data not in the right format</strong>. This might not necessarily result in an error message, but might lead to graphs/results that are wrong. For example, in <a href="https://ourcodingclub.github.io/2016/11/13/intro-to-r.html" target="_blank" rel="noopener noreferrer">our first tutorial</a> we created a data frame and plotted species richness. If we had chosen a data matrix instead, that plot would have looked very different (and wrong). We use matrices when the variables are all the same type (all text, all numerical) and of the same length (same number of rows). Data frames are for when we have multiple variables of different types and vectors are for a series of numbers of the same type. If your results/plots make you feel suspicious, it’s good to go back to your data and check: did it import right into R, and is it in the right format? You can do this using <code class="language-plaintext highlighter-rouge">head()</code> for a preview, <code class="language-plaintext highlighter-rouge">str()</code> to check the class of each variable, and <code class="language-plaintext highlighter-rouge">summary()</code>.</p>
  </li>
</ul>

<p><img src="/img/wrong.png" alt=""></p>

<p>Figure 1. An unfortunate looking barplot! The data were chosen to be a data matrix, but, because in matrices all variables are of the same type, R expects <code class="language-plaintext highlighter-rouge">taxa_f</code> - the names of the different taxa - to have a numerical value, and lumps all the species richness values together in the second bar. A data frame was definitely a better choice!</p>

<ul>
  <li>
    <p><strong>Wrong data distribution used in models</strong>. There are several reasons why models won’t converge, including the use of inappropriate distribution type. Usually we choose between normal (gaussian), binomial, Poisson, or Quasipoisson distributions, which we will learn more about in <a href="https://ourcodingclub.github.io/2017/02/28/modelling.html" target="_blank" rel="noopener noreferrer">our workhops on modelling</a>.</p>
  </li>
  <li>
    <p><strong>R crashed!</strong> If you’ve overloaded <code class="language-plaintext highlighter-rouge">R</code>, it can make a dramatic exit (bomb image and all) or sometimes it stops responding and you have to terminate the session. That’s why it’s very important to save your scripts often, but it’s better to save them as new files, e.g. <code class="language-plaintext highlighter-rouge">Edi_biodiv_16thNov.R</code>, instead of overwriting the same file. That way if you want to revert back to old code or use some part of it, it’s easy to find it. This is the most basic type of version control. We can learn more about version control in <a href="https://ourcodingclub.github.io/2017/02/27/git.html" target="_blank" rel="noopener noreferrer">our <code class="language-plaintext highlighter-rouge">git</code> tutorial</a></p>
  </li>
</ul>

<p><img src="/img/bomb.png" alt=""></p>

<ul>
  <li>
    <p><strong>Aaaah! I enlarged my plot, and now it’s full screen and I can’t get back</strong>! If you click on the little magnifying glass in the Plots window, it opens your plot in a new window that you can resize. Convenient! Less convenient is when you accidentally drag the window to the top of your screen and it goes full screen, blocking everything else. This is not an issue anymore with newer versions of R Studio, but if it ever happens, you can escape using the <em>backspace</em> key on your keyboard - and hopefully you don’t lose data in the process.</p>
  </li>
  <li>
    <p><strong>I am stuck in a loop of pluses</strong>! If the numbers of opening and closing brackets don’t match up, <code class="language-plaintext highlighter-rouge">R</code> thinks there is more code coming. That is why, in the console, it is prompting you to add more code: every time you press enter, a new + appears. Press <em>Escape</em> on your keyboard to get back to the normal <code class="language-plaintext highlighter-rouge">&gt;</code> prompt in the console and check your code to find your error.</p>
  </li>
</ul>

<p><img src="/img/pluses.png" alt=""></p>

<ul>
  <li>
<strong>The cursor in the script file changed from <code class="language-plaintext highlighter-rouge">|</code> to <code class="language-plaintext highlighter-rouge">_</code> and now text gets overwritten when I type</strong>. This happens when you accidentally press <em>Insert</em> on your keyboard and as a result when you add new text, it gets written over. Press <em>Insert</em> again to go back to normal.</li>
</ul>

<div class="callout" style="">

  <h4 id="help">Cheat sheet! Here are some of the most common error messages you’ll meet when you get started, and what they actually mean.</h4>

  <p><strong>Error in <code class="language-plaintext highlighter-rouge">function-name(...)</code>: could not find function ‘function-name’</strong> : This probably means that you are trying to use a function from a package you have not loaded. Type <code class="language-plaintext highlighter-rouge">??function-name</code> (or look it up online) to find out which package it comes from, and make sure the package is loaded using <code class="language-plaintext highlighter-rouge">library(package-name)</code>. Which leads us to…</p>

  <p><strong>Error in <code class="language-plaintext highlighter-rouge">library(package-name)</code>: there is no package called ‘package-name’.</strong> : Did you install the package? Packages need to be installed once, using <code class="language-plaintext highlighter-rouge">install.packages('packag-name')</code>, after which they can be loaded with the <code class="language-plaintext highlighter-rouge">library()</code> command.</p>

  <p><strong>Error in <code class="language-plaintext highlighter-rouge">function-name()</code>: object ‘object-name’ not found</strong>: R tells you that it cannot find an object that should be in your environment. First, make sure that you have an object with this name in your Environment panel. It could be just a typo, for instance you defined the object as <code class="language-plaintext highlighter-rouge">birds_nests</code> yet you try to plot it calling <code class="language-plaintext highlighter-rouge">Bird_nests</code>. (And yes, R is also case-sensitive!) Or it could be that you haven’t actually run the code which creates this object yet!</p>

  <p><strong>Error: unexpected symbol in ‘line-of-code’</strong> : Most likely you forgot (or had an extra!) comma, bracket or other punctuation sign somewhere.</p>

  <p><strong>Cannot open file ‘your-file-path’: No such file or directory</strong>: R cannot find the file you are trying to load, often because you forgot to specify your working directory (we learned how to do it in our <a href="https://ourcodingclub.github.io/2016/11/13/intro-to-r.html" target="_blank" rel="noopener noreferrer">first tutorial</a>), or because there is a mistake in your file path. (Hint: if you copied it from the Windows Explorer, you need to swap the backward slashes for forward slashes.) If you get <strong>object ‘your-file-path’ not found</strong>, then you probably forgot the quotation marks around the file path <code class="language-plaintext highlighter-rouge">read.csv(file = 'my-file-path/file.csv')</code>.</p>

</div>

<h3 id="3-learn-how-to-find-help">3. Learn how to find help</h3>

<p><strong>An online search for the error message (along with “R” and the function or package name) is always a good start</strong>. Chances are someone has already encountered that error and has asked about it online. If the error message is very long, try paraphrasing based on what you think the problem might be (and delete references to your specific objects and file names). There are several really useful online forums and websites where people ask for and receive help, such as <a href="http://stackoverflow.com" target="_blank" rel="noopener noreferrer">Stackoverflow</a> and <a href="https://www.r-bloggers.com/" target="_blank" rel="noopener noreferrer">Rbloggers</a>.</p>

<p><strong>For “how to …” type queries, a search will often result in tutorials, and even Youtube videos as well</strong>. For instance, “ ggplot how to change axis titles” or “dplyr filtering on two conditions” will quickly get you what you need.</p>

<p><strong>R Help</strong> Of course, R has built-in documentation for all functions and packages. We already mentioned that you can type <code class="language-plaintext highlighter-rouge">help()</code> or <code class="language-plaintext highlighter-rouge">?function-name</code> (try <code class="language-plaintext highlighter-rouge">??function-name</code>for a broader search). The <a href="https://www.rdocumentation.org/" target="_blank" rel="noopener noreferrer">RDocumentation website</a> contains much of the same in a slightly nicer format, with examples and more links.</p>

<p>We have also compiled a <a href="https://ourcodingclub.github.io/links/" target="_blank" rel="noopener noreferrer">“Useful links” list of helpful websites and tutorials</a> where you can find additional help.</p>

<p><strong>Of course, <code class="language-plaintext highlighter-rouge">R</code> won’t always tell you if you are doing something wrong: sometimes your code is correct, but you are doing the wrong type of analysis for your data. Nevertheless, making sure you avoid easy-to-make mistakes is a great place to start - even the fanciest, super-advanced tests can be brought down by a single missing comma.</strong></p>

<div class="callout" style="">

  <h4 id="a-warning-on-warnings">A warning on warnings!</h4>

  <p>Errors are not the only scary red text that will appear in the console. Often, you will run code and get a message saying something like ‘There were 13 warnings, use <code class="language-plaintext highlighter-rouge">warnings()</code>to see them’. It could also be a specific warning telling you that R is ignoring <code class="language-plaintext highlighter-rouge">NA</code>s (missing) data in a plot, or that a function generated unexpected results such as <code class="language-plaintext highlighter-rouge">NaN</code> (not a number).</p>

  <p>Warnings are not necessarily the end of the world, but you should see them as major red flags, and make sure you know what is going on before you pursue your analysis. Like error messages, a simple online search of the warning text will often put you on the right track.</p>

</div>

<h3 id="practice">4. Practice!</h3>

<p>Practice truly is the best way to learn how to avoid errors in <code class="language-plaintext highlighter-rouge">R</code> - to get you started, we have written a purposefully wrong script - you can download the file from this <a href="https://github.com/ourcodingclub/CC-1-RBasics" target="_blank" rel="noopener noreferrer">Github repository</a>. There you will find the data <code class="language-plaintext highlighter-rouge">edidiv.csv</code>, as well as the wrong (<code class="language-plaintext highlighter-rouge">CC_2_RBasics_Wrong_Script.R</code>) and right script. Can you fix all the mistakes?</p>

<h3 id="tutorial-outcomes">Tutorial outcomes:</h3>

<h4 id="1-you-know-how-r-reports-errors-both-in-script-files-and-in-the-console">1. You know how <code class="language-plaintext highlighter-rouge">R</code> reports errors, both in script files and in the console</h4>

<h4 id="2-you-can-solve-common-mistakes-in-r">2. You can solve common mistakes in <code class="language-plaintext highlighter-rouge">R</code>
</h4>

<h4 id="3-if-you-cant-figure-out-a-solution-yourself-you-know-where-to-find-help">3. If you can’t figure out a solution yourself, you know where to find help</h4>

<p>Next up. we have a tutorial on <a href="https://ourcodingclub.github.io/2017/04/25/etiquette.html" target="_blank" rel="noopener noreferrer">Coding Etiquette</a>! Developing code-writing routines and sticking to defined conventions is a good way to ensure uniform, mistake-free code that runs smoothly!</p>

<p>Feeling ready to go one step further? Learn how to format and manipulate data in a tidy and efficient way with our <a href="https://ourcodingclub.github.io/2017/01/16/piping.html" target="_blank" rel="noopener noreferrer">tidyr and dplyr tutorial</a>! Keen to make more graphs? Check out our <a href="https://ourcodingclub.github.io/2017/01/29/datavis.html" target="_blank" rel="noopener noreferrer">data visualisation tutorial</a>.</p>


	<div class="survey">
	<hr>
	<hr>
	
	<h4>Contact us with any questions on <a href="mailto:ourcodingclub@gmail.com?Subject=Tutorial%20question" target="_top">ourcodingclub@gmail.com</a>
</h4>
	<br>
	<h3>Related tutorials:</h3>
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
		
	
		
	
		
  			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
		
	
		
  			
		
	
		
  			
		
	
		
  			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
		
	
		
  			
		
	
		
  			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
		
	
		
  			
    				
			
		
	
		
  			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
    				
			
    				
			
    				
			
		
	
		
  			
		
	
		
  			
    				
			
		
	
	<br>
	<h3>Subscribe to our mailing list:</h3>

	<div class="container">
		<div class="block">
			<!-- subscribe form start -->
			<div class="form-group">
				<form action="https://getsimpleform.com/messages?form_api_token=de1ba2f2f947822946fb6e835437ec78" method="post">
					<div class="form-group">
						<input type="text" class="form-control" name="Email" placeholder="Email" required>
					</div>
					<div>
            			<button class="btn btn-default" type="submit">Subscribe</button>
        			</div>
            	</form>
			</div>
		</div>
	</div>
</div>

</div>

    	<footer class="footer">
	<hr>
	<div class="footer-container">
    	<ul class="footer-link-list">
        	<li><a href="/tutorials">Tutorials</a></li>
        	<li><a href="/team">About Us</a></li>
        	<li><a href="/contact">Contact us</a></li>
	    	<li><a href="https://twitter.com/our_codingclub" target="_blank" rel="noopener noreferrer">Follow us on Twitter</a></li>
    	</ul>
    	<div class="footer-text">
			<p>We are happy for people to use and further develop our tutorials - please give credit to Coding Club by linking to <a href="https://ourcodingclub.github.io/" target="_blank" rel="noopener noreferrer">our website</a>. We are also happy to discuss possible collaborations, so get in touch at <b>ourcodingclub@gmail.com</b></p>
    		<p>See our <a href="/terms">Terms of Use</a> and our <a href="/privacy">Data Privacy policy</a>.</p>
			<p>This work is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer">Creative Commons Attribution-ShareAlike 4.0 International License</a></p>
			<a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer"><img class="license" src="https://licensebuttons.net/l/by-sa/4.0/80x15.png" alt="CC-by-sa-4.0"></a>
    	</div>
    </div>
</footer>

<!-- JS -->
<script src="/scripts/owl.carousel.js"></script>
<script src="/scripts/owl.carousel-init.js"></script>
<script src="/scripts/reveal.js"></script>


	
	</body>
</html>
